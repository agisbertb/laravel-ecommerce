import{o as n,e as c,a as e,A as w,c as z,w as u,r as m,n as N,u as d,i as L,d as p,p as j,J as T,K as I,k as O,x as R,b as i,y as V,f as A,v as H,F as Z,h as G,t as E,L as F,M as P,N as J,q as K,m as M,O as S,g as k,j as Q}from"./app-JsxQVuK5.js";import{_ as W}from"./FooterSection-B3qla_kT.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as X}from"./ExclamationCircleIcon-Deok98lu.js";import{r as Y}from"./Bars3Icon-CiW0Tf8T.js";function ee(t,s){return n(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})])}function te(t,s){return n(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function se(t,s){return n(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function re(t,s){return n(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}const C={__name:"NavLink",props:{href:String,active:Boolean},setup(t){const s=t,r=w(()=>s.active?"inline-flex items-center border-b-2 border-indigo-400 text-sm font-bold leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center border-b-2 border-transparent text-sm font-bold leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(g,o)=>(n(),z(d(L),{href:t.href,class:N(r.value)},{default:u(()=>[m(g.$slots,"default")]),_:3},8,["href","class"]))}},ae={key:0,type:"submit",class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},oe=["href"],q={__name:"DropdownLink",props:{href:String,as:String},setup(t){return(s,r)=>(n(),c("div",null,[t.as=="button"?(n(),c("button",ae,[m(s.$slots,"default")])):t.as=="a"?(n(),c("a",{key:1,href:t.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},[m(s.$slots,"default")],8,oe)):(n(),z(d(L),{key:2,href:t.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},{default:u(()=>[m(s.$slots,"default")]),_:3},8,["href"]))]))}},ne={class:"relative"},le={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:Array,default:()=>["py-1","bg-white"]}},setup(t){const s=t;let r=p(!1);const g=a=>{r.value&&a.key==="Escape"&&(r.value=!1)};j(()=>document.addEventListener("keydown",g)),T(()=>document.removeEventListener("keydown",g));const o=w(()=>({48:"w-48"})[s.width.toString()]),l=w(()=>s.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":s.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top");return(a,f)=>(n(),c("div",ne,[e("div",{onClick:f[0]||(f[0]=b=>I(r)?r.value=!d(r):r=!d(r))},[m(a.$slots,"trigger")]),O(e("div",{class:"fixed inset-0 z-40",onClick:f[1]||(f[1]=b=>I(r)?r.value=!1:r=!1)},null,512),[[R,d(r)]]),i(V,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:u(()=>[O(e("div",{class:N(["absolute z-50 mt-2 rounded-md shadow-lg",[o.value,l.value]]),style:{display:"none"},onClick:f[2]||(f[2]=b=>I(r)?r.value=!1:r=!1)},[e("div",{class:N(["rounded-md ring-1 ring-black ring-opacity-5",t.contentClasses])},[m(a.$slots,"content")],2)],2),[[R,d(r)]])]),_:3})]))}},D=t=>(P("data-v-46772a1a"),t=t(),J(),t),ie={class:"max-w-2xl w-full relative z-20"},ce=D(()=>e("label",{for:"search",class:"sr-only"},"Search",-1)),de={class:"relative"},ue={class:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center"},fe={key:0,class:"absolute z-20 mt-1 w-full max-w-2xl bg-white shadow-lg rounded-md overflow-hidden"},ge={class:"divide-y divide-gray-200"},he=["src"],pe={class:"text-sm font-medium text-gray-900"},ve={class:"text-sm text-gray-500"},me={key:0,class:"px-6 py-14 text-center text-sm sm:px-14"},ye=D(()=>e("p",{class:"mt-4 font-semibold text-gray-900"},"No results found",-1)),_e=D(()=>e("p",{class:"mt-2 text-gray-500"},"No products found for this search term. Please try again.",-1)),xe={__name:"SearchBar",setup(t){const s=p(!1),r=p(""),g=p(null),o=p([]),l=w(()=>r.value===""?[]:o.value);j(()=>{document.addEventListener("click",a)}),T(()=>{document.removeEventListener("click",a)});function a(_){g.value&&!g.value.contains(_.target)&&(s.value=!1)}function f(){s.value=!1}async function b(){if(r.value===""){o.value=[];return}try{const _=await F.get(route("search.products"),{params:{query:r.value}});o.value=_.data}catch(_){console.error("Error fetching search results:",_)}}return(_,$)=>(n(),c("div",{class:"relative flex-1 flex justify-center px-2 lg:ml-6 lg:justify-center",ref_key:"searchContainerRef",ref:g},[s.value?(n(),c("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-10",onClick:f})):A("",!0),e("div",ie,[ce,e("div",de,[e("div",ue,[i(d(te),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),O(e("input",{id:"search",name:"search","onUpdate:modelValue":$[0]||($[0]=v=>r.value=v),onFocus:$[1]||($[1]=v=>s.value=!0),onInput:b,class:"block w-full pl-10 pr-10 py-2 border border-transparent rounded-md leading-5 bg-gray-100 text-gray-900 placeholder-gray-500 focus:outline-none focus:bg-white focus:border-white focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm",placeholder:"Search",type:"search"},null,544),[[H,r.value]])]),i(V,{name:"fade","enter-active-class":"transition-opacity duration-300","leave-active-class":"transition-opacity duration-300"},{default:u(()=>[s.value?(n(),c("div",fe,[e("ul",ge,[(n(!0),c(Z,null,G(l.value,v=>(n(),c("li",{key:v.id,class:"px-4 py-4 hover:bg-gray-100"},[i(d(L),{href:v.url,class:"flex items-center space-x-4"},{default:u(()=>[e("img",{src:v.image_url,class:"h-16 w-16 object-cover rounded",alt:""},null,8,he),e("div",null,[e("p",pe,E(v.name),1),e("p",ve,E(v.price)+" â‚¬",1)])]),_:2},1032,["href"])]))),128)),l.value.length===0?(n(),c("li",me,[i(d(X),{type:"outline",name:"exclamation-circle",class:"mx-auto h-6 w-6 text-gray-400"}),ye,_e])):A("",!0)])])):A("",!0)]),_:1})])],512))}},we=U(xe,[["__scopeId","data-v-46772a1a"]]),h=p([]),B=p(!1),be=async()=>{try{const t=await F.get("/cart/get");h.value=t.data.cartDetails.map(s=>M(s)),x()}catch(t){console.error("Error loading cart from server:",t)}},ke=()=>{const t=localStorage.getItem("cartItems");t&&(h.value=JSON.parse(t).map(s=>M(s)))},x=()=>{localStorage.setItem("cartItems",JSON.stringify(h.value))},Se=w(()=>h.value.reduce((t,s)=>t+s.quantity,0));function $e(){j(async()=>{ke(),await be()});async function t(o){try{await S.post("/cart/add",{product_id:o.id,quantity:1,price:o.price},{preserveScroll:!0,preserveState:!1});const l=h.value.find(a=>a.product_id===o.id);if(l)l.quantity+=1;else{const a=M({...o,quantity:1});h.value.push(a)}x(),B.value=!0,setTimeout(()=>{B.value=!1},3e3),console.log("Product added successfully")}catch(l){console.error("Error adding product to cart:",l)}}async function s(o,l){try{await S.put(`/cart/details/${o}`,{quantity:l},{preserveScroll:!0,preserveState:!1});const a=h.value.find(f=>f.id===o);a&&(a.quantity=l),x(),console.log("Product updated successfully")}catch(a){console.error("Error updating product in cart:",a)}}async function r(o){try{await S.delete(`/cart/details/${o}`,{preserveScroll:!0,preserveState:!1}),h.value=h.value.filter(l=>l.id!==o),x(),console.log("Product removed successfully")}catch(l){console.error("Error removing product from cart:",l)}}async function g(){try{await S.post("/cart/clear",{},{preserveScroll:!0,preserveState:!1}),h.value=[],x(),console.log("Cart cleared successfully")}catch(o){console.error("Error clearing cart:",o)}}return K(h,x,{deep:!0}),{cartItems:h,cartCount:Se,addToCart:t,updateCartDetail:s,removeCartDetail:r,clearCart:g,showCartNotification:B}}const y=t=>(P("data-v-c2824bee"),t=t(),J(),t),Ce={class:"bg-white"},Ee={class:"relative bg-white"},Le={"aria-label":"Top",class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Ie={class:"border-b border-gray-200"},Ae={class:"flex items-center h-24"},Be=y(()=>e("span",{class:"absolute -inset-0.5"},null,-1)),Ne=y(()=>e("span",{class:"sr-only"},"Open menu",-1)),Oe={class:"ml-4 flex lg:ml-0"},je={href:"/"},Me={class:"sr-only"},De={class:"flex items-center"},Re=["src"],qe={key:1},ze={class:"ml-auto flex items-center"},Te={class:"flex lg:ml-6"},Ve=y(()=>e("span",{class:"sr-only"},"Wishlist",-1)),Ze={class:"ml-4 flow-root lg:ml-6"},Fe={class:"ml-2 text-sm font-bold text-gray-700 group-hover:text-gray-800"},Pe=y(()=>e("span",{class:"sr-only"},"items in cart, view bag",-1)),Je={key:0,class:"hidden lg:flex lg:flex-1 lg:items-center lg:justify-end lg:space-x-6 ml-4 flow-root lg:ml-6"},Ue=y(()=>e("span",{class:"h-6 w-px bg-gray-200","aria-hidden":"true"},null,-1)),He={key:1,class:"ms-3 relative"},Ge={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-bold rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none focus:bg-gray-50 active:bg-gray-50 transition ease-in-out duration-150"},Ke=y(()=>e("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Manage Account ",-1)),Qe=y(()=>e("div",{class:"border-t border-gray-200"},null,-1)),We={"aria-label":"Secondary",class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Xe={class:"border-b border-gray-200"},Ye={class:"flex items-center h-12"},et={class:"ml-4 flex lg:ml-0"},tt={__name:"AppLayout",props:{title:String,siteSettings:{type:Object,default:()=>({site_logo:"",footer_logo:"",footer_text:""})}},setup(t){const s=p(!1),r=t;p(!1);const g=()=>{S.post(route("logout"))},{cartCount:o}=$e(),l=w(()=>r.siteSettings.site_logo?`/${r.siteSettings.site_logo}`:"");return(a,f)=>(n(),c(Z,null,[e("div",Ce,[e("header",Ee,[e("nav",Le,[e("div",Ie,[e("div",Ae,[e("button",{type:"button",class:"relative rounded-md bg-white p-2 text-gray-400 lg:hidden",onClick:f[0]||(f[0]=b=>s.value=!0)},[Be,Ne,i(d(Y),{class:"h-6 w-6","aria-hidden":"true"})]),e("div",Oe,[e("a",je,[e("span",Me,E(t.siteSettings.site_name),1),e("div",De,[l.value?(n(),c("img",{key:0,src:l.value,class:"h-auto max-h-16 w-auto",alt:"Site Logo"},null,8,Re)):(n(),c("span",qe,"LOGO HERE"))])])]),i(we),e("div",ze,[e("div",Te,[i(C,{href:a.route("profile.wishlist"),class:"group -m-2 p-2 flex items-center"},{default:u(()=>[i(d(ee),{class:"h-8 w-8 text-gray-500 group-hover:text-gray-600","aria-hidden":"true"}),Ve]),_:1},8,["href"])]),e("div",Ze,[i(C,{href:a.route("cart.index"),class:"group flex items-center p-2"},{default:u(()=>[i(d(se),{class:"h-8 w-8 flex-shrink-0 text-gray-500 group-hover:text-gray-600","aria-hidden":"true"}),e("span",Fe,E(d(o)),1),Pe]),_:1},8,["href"])]),a.$page.props.auth.user?(n(),c("div",He,[i(le,{align:"right",width:"48"},{trigger:u(()=>[e("button",Ge,[i(d(re),{class:"h-8 w-8 flex-shrink-0 text-gray-500 group-hover:text-gray-600","aria-hidden":"true"})])]),content:u(()=>[Ke,i(q,{href:a.route("profile.index")},{default:u(()=>[k(" Profile ")]),_:1},8,["href"]),Qe,e("form",{onSubmit:Q(g,["prevent"])},[i(q,{as:"button"},{default:u(()=>[k(" Log Out ")]),_:1})],32)]),_:1})])):(n(),c("div",Je,[i(C,{href:a.route("login"),class:"text-sm font-bold text-gray-500 hover:text-gray-600"},{default:u(()=>[k("Login")]),_:1},8,["href"]),Ue,i(C,{href:a.route("register"),class:"text-sm font-bold text-gray-500 hover:text-gray-600"},{default:u(()=>[k("Register")]),_:1},8,["href"])]))])])])]),e("nav",We,[e("div",Xe,[e("div",Ye,[e("div",et,[i(d(L),{href:a.route("categories.index"),class:"text-lg font-bold text-gray-500 hover:text-gray-600"},{default:u(()=>[k("All Categories")]),_:1},8,["href"])])])])])])]),e("main",null,[m(a.$slots,"default",{},void 0,!0)]),i(W,{siteSettings:t.siteSettings},null,8,["siteSettings"])],64))}},lt=U(tt,[["__scopeId","data-v-c2824bee"]]);export{lt as A,se as a,ee as r,$e as u};
