import{d as g,p as V,s as H,q as T,o as l,c as M,w as _,a as e,b as a,u as n,i as P,e as i,h as w,F as k,k as S,v as j,g as x,x as z,n as $,y as E,t as d,O as F}from"./app-JsxQVuK5.js";import{_ as I,r as Z}from"./AdminLayout-yxQSrgni.js";import{_ as q}from"./AlertNotification-BOvMC4Vv.js";import{r as Q,a as B}from"./HomeIcon-tNaSnbDF.js";import{r as R,a as D}from"./ChevronLeftIcon-DIV9c5NW.js";import{r as G}from"./ChevronDownIcon-BFJJcEZk.js";import"./HomeIcon-CX7JyigJ.js";import"./transition-DM51IVFY.js";import"./keyboard-B1eEn8PW.js";import"./micro-task-BhIf1XMT.js";import"./Bars3Icon-CiW0Tf8T.js";import"./ExclamationCircleIcon-Deok98lu.js";const J={class:"mx-4 mt-4 mb-14"},K={class:"flex","aria-label":"Breadcrumb"},W={role:"list",class:"flex items-center space-x-4"},X=e("span",{class:"sr-only"},"Home",-1),Y={class:"flex items-center"},ee=["href","aria-current"],te={class:"mt-4 mx-4"},se={class:"bg-white p-6 rounded-2xl border-b shadow-2xl"},re={class:"sm:flex sm:items-center sm:justify-between"},oe={class:"relative inline-block text-left"},ae=e("label",{for:"mobile-search-candidate",class:"sr-only"},"Search",-1),le=e("label",{for:"desktop-search-candidate",class:"sr-only"},"Search",-1),ne={class:"flex rounded-md shadow-sm"},ie={class:"relative flex-grow focus-within:z-10"},de={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},ce={class:"text-gray-700"},ue={class:"mt-8 flow-root"},me={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},he={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},fe={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg"},ge={class:"min-w-full divide-y divide-gray-300"},xe=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"},"Order ID"),e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"},"User"),e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"},"Status"),e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"},"Total")])],-1),pe={class:"divide-y divide-gray-200 bg-white"},ye={class:"border-t px-6 py-4 text-center"},be={class:"border-t px-6 py-4 text-center"},ve={class:"border-t px-6 py-4 text-center"},_e={class:"flex items-center justify-center gap-x-2"},we=e("div",{class:"h-1.5 w-1.5 rounded-full bg-current"},null,-1),ke=[we],Se={class:"text-gray-900"},$e={class:"border-t px-6 py-4 text-center"},Be={class:"flex items-center border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},Ce={class:"text-sm text-gray-700"},Oe={class:"font-medium"},Te={class:"font-medium"},je={class:"font-medium"},De={class:"flex justify-end flex-grow"},Ne={class:"inline-flex rounded-md shadow-sm","aria-label":"Pagination"},Ue=["href"],Ae=e("span",{class:"sr-only"},"Previous",-1),Le={key:1,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-300"},Ve=e("span",{class:"sr-only"},"Previous",-1),He=["href"],Me=["href"],Pe=e("span",{class:"sr-only"},"Next",-1),ze={key:3,class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-300"},Ee=e("span",{class:"sr-only"},"Next",-1),et={__name:"Index",props:{orders:Object,flash:Object},setup(o){const p=o,N=[{name:"Admin",href:"/admin/dashboard",current:!1},{name:"Orders",href:"/admin/orders",current:!0}],c=g(!1),C=g(""),m=g(""),h=g(!1),b=g(""),U=r=>{!r.target.closest(".dropdown-button")&&!r.target.closest(".dropdown-menu")&&(c.value=!1)};V(()=>{p.flash&&p.flash.success&&(b.value=p.flash.success,h.value=!0,setTimeout(()=>{h.value=!1},5e3))}),H(()=>{window.removeEventListener("click",U)}),T(m,r=>{O(r)}),T(()=>p.flash.success,r=>{r&&(b.value=r,h.value=!0,setTimeout(()=>{h.value=!1},5e3))},{immediate:!0});const A=(r,s)=>{let t=r-1,f=r+1;const u=[];t<1&&(t=1),f>s&&(f=s);for(let v=t;v<=f;v++)u.push(v);return t>2&&(u.unshift("..."),u.unshift(1)),f<s-1?(u.push("..."),u.push(s)):f===s-1&&u.push(s),u};function O(r,s=C.value){F.get("/admin/orders",{search:r,order:s},{preserveState:!0,replace:!0,preserveScroll:!0})}function y(r){C.value=r,O(m.value,r),c.value=!1}const L={pending:"text-yellow-400 bg-yellow-400/10",paid:"text-green-400 bg-green-400/10",processed:"text-blue-400 bg-blue-400/10",shipped:"text-indigo-400 bg-indigo-400/10",delivered:"text-green-600 bg-green-600/10",cancelled:"text-red-400 bg-red-400/10"};return(r,s)=>(l(),M(I,{title:"Orders"},{default:_(()=>[e("div",J,[e("nav",K,[e("ol",W,[e("li",null,[e("div",null,[a(n(P),{href:"/admin/dashboard",class:"text-gray-400 hover:text-gray-500"},{default:_(()=>[a(n(Q),{class:"h-5 w-5 flex-shrink-0","aria-hidden":"true"}),X]),_:1})])]),(l(),i(k,null,w(N,t=>e("li",{key:t.name},[e("div",Y,[a(n(B),{class:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),e("a",{href:t.href,class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700","aria-current":t.current?"page":void 0},d(t.name),9,ee)])])),64))])])]),a(q,{title:"Success",message:b.value,visible:h.value,"onUpdate:visible":s[0]||(s[0]=t=>h.value=t)},null,8,["message","visible"]),e("div",te,[e("div",se,[e("div",re,[e("div",oe,[ae,le,e("div",ne,[e("div",ie,[e("div",de,[a(n(Z),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),S(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>m.value=t),id:"mobile-search-candidate",name:"search",type:"search",class:"block w-full rounded-none rounded-l-md border-0 py-1.5 pl-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:hidden",placeholder:"Search"},null,512),[[j,m.value]]),S(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>m.value=t),id:"desktop-search-candidate",name:"search-mobile",type:"search",class:"hidden w-full rounded-none rounded-l-md border-0 py-1.5 pl-10 text-sm leading-6 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:block",placeholder:"Search orders"},null,512),[[j,m.value]])]),e("button",{onClick:s[3]||(s[3]=t=>c.value=!c.value),type:"button",class:"dropdown-button relative -ml-px inline-flex items-center gap-x-1.5 rounded-r-md px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50"},[a(n(R),{class:"-ml-0.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),x(" Sort "),a(n(G),{class:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]),a(E,{name:"dropdown","enter-active-class":"transition ease-out duration-200","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:_(()=>[S(e("div",{class:$(["dropdown-menu absolute right-0 top-full mt-1 rounded-md bg-white shadow-lg overflow-hidden transition ease-out duration-200 transform origin-top-right",{"scale-100 opacity-100":c.value,"scale-95 opacity-0":!c.value}])},[e("ul",ce,[e("li",null,[e("button",{class:"block px-4 py-2 hover:bg-gray-100 w-full text-left text-sm",onClick:s[4]||(s[4]=t=>y("total_asc"))},"Total: Low to High")]),e("li",null,[e("button",{class:"block px-4 py-2 hover:bg-gray-100 w-full text-left text-sm",onClick:s[5]||(s[5]=t=>y("total_desc"))},"Total: High to Low")]),e("li",null,[e("button",{class:"block px-4 py-2 hover:bg-gray-100 w-full text-left text-sm",onClick:s[6]||(s[6]=t=>y("status_asc"))},"Status: A to Z")]),e("li",null,[e("button",{class:"block px-4 py-2 hover:bg-gray-100 w-full text-left text-sm",onClick:s[7]||(s[7]=t=>y("status_desc"))},"Status: Z to A")])])],2),[[z,c.value]])]),_:1})])])]),e("div",ue,[e("div",me,[e("div",he,[e("div",fe,[e("table",ge,[xe,e("tbody",pe,[(l(!0),i(k,null,w(o.orders.data,t=>(l(),i("tr",{key:t.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[e("td",ye,d(t.id),1),e("td",be,d(t.user.name),1),e("td",ve,[e("div",_e,[e("div",{class:$([L[t.status],"flex-none rounded-full p-1"])},ke,2),e("div",Se,d(t.status),1)])]),e("td",$e,d(t.total)+" â‚¬ ",1)]))),128))])]),e("div",Be,[e("div",Ce,[x(" Showing "),e("span",Oe,d(o.orders.from),1),x(" to "),e("span",Te,d(o.orders.to),1),x(" of "),e("span",je,d(o.orders.total),1),x(" results ")]),e("div",De,[e("nav",Ne,[o.orders.prev_page_url?(l(),i("a",{key:0,href:o.orders.prev_page_url,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},[a(n(D),{class:"h-5 w-5","aria-hidden":"true"}),Ae],8,Ue)):(l(),i("a",Le,[a(n(D),{class:"h-5 w-5","aria-hidden":"true"}),Ve])),(l(!0),i(k,null,w(A(o.orders.current_page,o.orders.last_page),t=>(l(),i("a",{key:t,href:`?page=${t}`,class:$([{"bg-blue-600 text-white border-blue-600":t===o.orders.current_page,"border-t border-b border-gray-300 text-gray-700 hover:bg-gray-50":t!==o.orders.current_page,"border-r":t!==o.orders.last_page},"relative inline-flex items-center px-4 py-2 text-sm font-medium"])},d(t),11,He))),128)),o.orders.next_page_url?(l(),i("a",{key:2,href:o.orders.next_page_url,class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},[a(n(B),{class:"h-5 w-5","aria-hidden":"true"}),Pe],8,Me)):(l(),i("a",ze,[a(n(B),{class:"h-5 w-5","aria-hidden":"true"}),Ee]))])])])])])])])])])]),_:1}))}};export{et as default};
