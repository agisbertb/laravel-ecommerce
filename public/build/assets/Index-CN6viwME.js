import{d as b,p as P,s as z,q as A,o as n,c as F,w as m,a as e,b as r,u as o,i as v,e as l,h as w,F as k,k as $,v as C,g as d,x as L,n as T,y as Z,t as f,O as U}from"./app-JsxQVuK5.js";import{_ as q,r as H}from"./AdminLayout-yxQSrgni.js";import{_ as I}from"./AlertNotification-BOvMC4Vv.js";import{r as Q,a as S}from"./HomeIcon-tNaSnbDF.js";import{r as R,a as D}from"./ChevronLeftIcon-DIV9c5NW.js";import{r as G}from"./ChevronDownIcon-BFJJcEZk.js";import{r as J}from"./PlusIcon-D7nkZKuz.js";import{r as K}from"./PencilSquareIcon-_8VqL3Iy.js";import{r as W}from"./TrashIcon-jymW0gUZ.js";import"./HomeIcon-CX7JyigJ.js";import"./transition-DM51IVFY.js";import"./keyboard-B1eEn8PW.js";import"./micro-task-BhIf1XMT.js";import"./Bars3Icon-CiW0Tf8T.js";import"./ExclamationCircleIcon-Deok98lu.js";const X={class:"mx-4 mt-4 mb-14"},Y={class:"flex","aria-label":"Breadcrumb"},ee={role:"list",class:"flex items-center space-x-4"},se=e("span",{class:"sr-only"},"Home",-1),te={class:"flex items-center"},re=["href","aria-current"],ae={class:"mt-4 mx-4"},oe={class:"bg-white p-6 rounded-2xl border-b shadow-2xl"},ie={class:"sm:flex sm:items-center sm:justify-between"},ne={class:"relative inline-block text-left"},le=e("label",{for:"mobile-search-candidate",class:"sr-only"},"Search",-1),de=e("label",{for:"desktop-search-candidate",class:"sr-only"},"Search",-1),ce={class:"flex rounded-md shadow-sm"},ue={class:"relative flex-grow focus-within:z-10"},me={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},fe={class:"text-gray-700"},he={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex sm:flex-row-reverse"},xe={type:"button",class:"inline-flex items-center gap-x-2 rounded-md bg-blue-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600"},ge={class:"mt-8 flow-root"},be={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},ve={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},pe={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg"},ye={class:"min-w-full divide-y divide-gray-300"},_e=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"}," Name"),e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"}," Email"),e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"}," Action")])],-1),we={class:"divide-y divide-gray-200 bg-white"},ke={class:"border-t"},$e={class:"border-t"},Se={class:"border-t"},Be={class:"flex justify-center space-x-4"},Ne=["onClick"],je={class:"flex items-center border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},Ae={class:"text-sm text-gray-700"},Ce={class:"font-medium"},Te={class:"font-medium"},Ue={class:"font-medium"},De={class:"flex justify-end flex-grow"},Oe={class:"inline-flex rounded-md shadow-sm","aria-label":"Pagination"},Ve=["href"],Ee=e("span",{class:"sr-only"},"Previous",-1),Me={key:1,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-300"},Pe=e("span",{class:"sr-only"},"Previous",-1),ze=["href"],Fe=["href"],Le=e("span",{class:"sr-only"},"Next",-1),Ze={key:3,class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-300"},qe=e("span",{class:"sr-only"},"Next",-1),os={__name:"Index",props:{users:Object,flash:Object},setup(i){const p=i,O=[{name:"Admin",href:"/admin/dashboard",current:!1},{name:"Users",href:"/admin/users",current:!0}],c=b(!1),B=b(""),h=b(""),x=b(!1),y=b(""),V=a=>{!a.target.closest(".dropdown-button")&&!a.target.closest(".dropdown-menu")&&(c.value=!1)};P(()=>{p.flash&&p.flash.success&&(y.value=p.flash.success,x.value=!0,setTimeout(()=>{x.value=!1},5e3))}),z(()=>{window.removeEventListener("click",V)}),A(h,a=>{N(a)}),A(()=>p.flash.success,a=>{a&&(y.value=a,x.value=!0,setTimeout(()=>{x.value=!1},5e3))},{immediate:!0});const E=(a,t)=>{let s=a-1,g=a+1;const u=[];s<1&&(s=1),g>t&&(g=t);for(let _=s;_<=g;_++)u.push(_);return s>2&&(u.unshift("..."),u.unshift(1)),g<t-1?(u.push("..."),u.push(t)):g===t-1&&u.push(t),u};function N(a,t=B.value){U.get("/admin/users",{search:a,order:t},{preserveState:!0,replace:!0,preserveScroll:!0})}function j(a){B.value=a,N(h.value,a),c.value=!1}function M(a){confirm("Are you sure you want to delete this user?")&&U.delete(`/admin/users/${a}`)}return(a,t)=>(n(),F(q,{title:"users"},{default:m(()=>[e("div",X,[e("nav",Y,[e("ol",ee,[e("li",null,[e("div",null,[r(o(v),{href:"/admin/dashboard",class:"text-gray-400 hover:text-gray-500"},{default:m(()=>[r(o(Q),{class:"h-5 w-5 flex-shrink-0","aria-hidden":"true"}),se]),_:1})])]),(n(),l(k,null,w(O,s=>e("li",{key:s.name},[e("div",te,[r(o(S),{class:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),e("a",{href:s.href,class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700","aria-current":s.current?"page":void 0},f(s.name),9,re)])])),64))])])]),r(I,{title:"Success",message:y.value,visible:x.value,"onUpdate:visible":t[0]||(t[0]=s=>x.value=s)},null,8,["message","visible"]),e("div",ae,[e("div",oe,[e("div",ie,[e("div",ne,[le,de,e("div",ce,[e("div",ue,[e("div",me,[r(o(H),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),$(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>h.value=s),id:"mobile-search-candidate",name:"search",type:"search",class:"block w-full rounded-none rounded-l-md border-0 py-1.5 pl-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:hidden",placeholder:"Search"},null,512),[[C,h.value]]),$(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>h.value=s),id:"desktop-search-candidate",name:"search-mobile",type:"search",class:"hidden w-full rounded-none rounded-l-md border-0 py-1.5 pl-10 text-sm leading-6 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:block",placeholder:"Search users"},null,512),[[C,h.value]])]),e("button",{onClick:t[3]||(t[3]=s=>c.value=!c.value),type:"button",class:"dropdown-button relative -ml-px inline-flex items-center gap-x-1.5 rounded-r-md px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50"},[r(o(R),{class:"-ml-0.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),d(" Sort "),r(o(G),{class:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]),r(Z,{name:"dropdown","enter-active-class":"transition ease-out duration-200","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:m(()=>[$(e("div",{class:T(["dropdown-menu absolute right-0 top-full mt-1 rounded-md bg-white shadow-lg overflow-hidden transition ease-out duration-200 transform origin-top-right",{"scale-100 opacity-100":c.value,"scale-95 opacity-0":!c.value}])},[e("ul",fe,[e("li",null,[e("button",{class:"block px-4 py-2 hover:bg-gray-100 w-full text-left text-sm",onClick:t[4]||(t[4]=s=>j("name_asc"))},"Name: A to Z")]),e("li",null,[e("button",{class:"block px-4 py-2 hover:bg-gray-100 w-full text-left text-sm",onClick:t[5]||(t[5]=s=>j("name_desc"))},"Name: Z to A")])])],2),[[L,c.value]])]),_:1})])]),e("div",he,[r(o(v),{href:"/admin/users/create"},{default:m(()=>[e("button",xe,[r(o(J),{class:"-ml-0.5 h-5 w-5","aria-hidden":"true"}),d(" Add user ")])]),_:1})])]),e("div",ge,[e("div",be,[e("div",ve,[e("div",pe,[e("table",ye,[_e,e("tbody",we,[(n(!0),l(k,null,w(i.users.data,s=>(n(),l("tr",{key:s.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[e("td",ke,[r(o(v),{class:"flex justify-center items-center px-6 py-4",href:`/admin/users/${s.id}/edit`,tabindex:"-1"},{default:m(()=>[d(f(s.name),1)]),_:2},1032,["href"])]),e("td",$e,[r(o(v),{class:"flex justify-center items-center px-6 py-4 focus:text-blue-500",href:`/admin/users/${s.id}/edit`},{default:m(()=>[d(f(s.email),1)]),_:2},1032,["href"])]),e("td",Se,[e("div",Be,[r(o(v),{class:"inline-flex items-center gap-x-2 rounded-md bg-green-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600",href:`/admin/users/${s.id}/edit`,tabindex:"-1"},{default:m(()=>[r(o(K),{class:"-ml-0.5 h-5 w-5","aria-hidden":"true"})]),_:2},1032,["href"]),e("button",{type:"button",onClick:g=>M(s.id),class:"inline-flex items-center gap-x-2 rounded-md bg-red-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600"},[r(o(W),{class:"-ml-0.5 h-5 w-5","aria-hidden":"true"})],8,Ne)])])]))),128))])]),e("div",je,[e("div",Ae,[d(" Showing "),e("span",Ce,f(i.users.from),1),d(" to "),e("span",Te,f(i.users.to),1),d(" of "),e("span",Ue,f(i.users.total),1),d(" results ")]),e("div",De,[e("nav",Oe,[i.users.prev_page_url?(n(),l("a",{key:0,href:i.users.prev_page_url,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},[r(o(D),{class:"h-5 w-5","aria-hidden":"true"}),Ee],8,Ve)):(n(),l("a",Me,[r(o(D),{class:"h-5 w-5","aria-hidden":"true"}),Pe])),(n(!0),l(k,null,w(E(i.users.current_page,i.users.last_page),s=>(n(),l("a",{key:s,href:`?page=${s}`,class:T([{"bg-blue-600 text-white border-blue-600":s===i.users.current_page,"border-t border-b border-gray-300 text-gray-700 hover:bg-gray-50":s!==i.users.current_page,"border-r":s!==i.users.last_page},"relative inline-flex items-center px-4 py-2 text-sm font-medium"])},f(s),11,ze))),128)),i.users.next_page_url?(n(),l("a",{key:2,href:i.users.next_page_url,class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},[r(o(S),{class:"h-5 w-5","aria-hidden":"true"}),Le],8,Fe)):(n(),l("a",Ze,[r(o(S),{class:"h-5 w-5","aria-hidden":"true"}),qe]))])])])])])])])])])]),_:1}))}};export{os as default};
