import{o as n,e as f,a as e,R as Y,d as x,E as te,A as S,C as ne,p as z,q as de,S as pe,F as j,V as le,J as ce,c as O,u as h,n as V,O as ve,h as F,g as se,t as _,Y as ge,T as xe,w as B,b as E,j as be,k as ie,l as ye,v as we,f as U,K as _e,$ as ke}from"./app-Cxyj-LO2.js";import{r as $e,u as Te,A as Ie}from"./AppLayout-BpxSKIEq.js";import{_ as J}from"./AlertNotification-D5CAYTCq.js";import{_ as Se}from"./PrimaryButton-CcJa2fT8.js";import{O as H,o as $,A as Q,f as Ce,u as ee,I as me,g as Pe,b as ue,d as D,T as Z,i as Ae,P as G,N as M}from"./keyboard-DFV0bmR6.js";import{u as Re,f as he,t as Ee}from"./micro-task-BXxnZ-Br.js";import{r as X,N as je,Q as Oe,V as Fe}from"./StarIcon-DjW3VrlH.js";import"./FooterSection-BKfFZdQJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ExclamationCircleIcon-0VQos8pm.js";function Ne(t,u){return n(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})])}function Be(t,u){return n(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}let De=Y({props:{onFocus:{type:Function,required:!0}},setup(t){let u=x(!0);return()=>u.value?te(he,{as:"button",type:"button",features:Re.Focusable,onFocus(p){p.preventDefault();let v,a=50;function d(){var l;if(a--<=0){v&&cancelAnimationFrame(v);return}if((l=t.onFocus)!=null&&l.call(t)){u.value=!1,cancelAnimationFrame(v);return}v=requestAnimationFrame(d)}v=requestAnimationFrame(d)}}):null}});var Me=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Me||{}),We=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(We||{});let fe=Symbol("TabsContext");function K(t){let u=le(fe,null);if(u===null){let p=new Error(`<${t} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(p,K),p}return u}let ae=Symbol("TabsSSRContext"),Le=Y({name:"TabGroup",emits:{change:t=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:u,attrs:p,emit:v}){var a;let d=x((a=t.selectedIndex)!=null?a:t.defaultIndex),l=x([]),i=x([]),k=S(()=>t.selectedIndex!==null),R=S(()=>k.value?t.selectedIndex:d.value);function T(o){var c;let g=H(m.tabs.value,$),r=H(m.panels.value,$),y=g.filter(C=>{var P;return!((P=$(C))!=null&&P.hasAttribute("disabled"))});if(o<0||o>g.length-1){let C=ee(d.value===null?0:Math.sign(o-d.value),{[-1]:()=>1,0:()=>ee(Math.sign(o),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),P=ee(C,{0:()=>g.indexOf(y[0]),1:()=>g.indexOf(y[y.length-1])});P!==-1&&(d.value=P),m.tabs.value=g,m.panels.value=r}else{let C=g.slice(0,o),P=[...g.slice(o),...C].find(A=>y.includes(A));if(!P)return;let N=(c=g.indexOf(P))!=null?c:m.selectedIndex.value;N===-1&&(N=m.selectedIndex.value),d.value=N,m.tabs.value=g,m.panels.value=r}}let m={selectedIndex:S(()=>{var o,c;return(c=(o=d.value)!=null?o:t.defaultIndex)!=null?c:null}),orientation:S(()=>t.vertical?"vertical":"horizontal"),activation:S(()=>t.manual?"manual":"auto"),tabs:l,panels:i,setSelectedIndex(o){R.value!==o&&v("change",o),k.value||T(o)},registerTab(o){var c;if(l.value.includes(o))return;let g=l.value[d.value];if(l.value.push(o),l.value=H(l.value,$),!k.value){let r=(c=l.value.indexOf(g))!=null?c:d.value;r!==-1&&(d.value=r)}},unregisterTab(o){let c=l.value.indexOf(o);c!==-1&&l.value.splice(c,1)},registerPanel(o){i.value.includes(o)||(i.value.push(o),i.value=H(i.value,$))},unregisterPanel(o){let c=i.value.indexOf(o);c!==-1&&i.value.splice(c,1)}};ne(fe,m);let b=x({tabs:[],panels:[]}),q=x(!1);z(()=>{q.value=!0}),ne(ae,S(()=>q.value?null:b.value));let W=S(()=>t.selectedIndex);return z(()=>{de([W],()=>{var o;return T((o=t.selectedIndex)!=null?o:t.defaultIndex)},{immediate:!0})}),pe(()=>{if(!k.value||R.value==null||m.tabs.value.length<=0)return;let o=H(m.tabs.value,$);o.some((c,g)=>$(m.tabs.value[g])!==$(c))&&m.setSelectedIndex(o.findIndex(c=>$(c)===$(m.tabs.value[R.value])))}),()=>{let o={selectedIndex:d.value};return te(j,[l.value.length<=0&&te(De,{onFocus:()=>{for(let c of l.value){let g=$(c);if((g==null?void 0:g.tabIndex)===0)return g.focus(),!0}return!1}}),Q({theirProps:{...p,...Ce(t,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:o,slots:u,attrs:p,name:"TabGroup"})])}}}),Ue=Y({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(t,{attrs:u,slots:p}){let v=K("TabList");return()=>{let a={selectedIndex:v.selectedIndex.value},d={role:"tablist","aria-orientation":v.orientation.value};return Q({ourProps:d,theirProps:t,slot:a,attrs:u,slots:p,name:"TabList"})}}}),qe=Y({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{attrs:u,slots:p,expose:v}){var a;let d=(a=t.id)!=null?a:`headlessui-tabs-tab-${me()}`,l=K("Tab"),i=x(null);v({el:i,$el:i}),z(()=>l.registerTab(i)),ce(()=>l.unregisterTab(i));let k=le(ae),R=S(()=>{if(k.value){let r=k.value.tabs.indexOf(d);return r===-1?k.value.tabs.push(d)-1:r}return-1}),T=S(()=>{let r=l.tabs.value.indexOf(i);return r===-1?R.value:r}),m=S(()=>T.value===l.selectedIndex.value);function b(r){var y;let C=r();if(C===Z.Success&&l.activation.value==="auto"){let P=(y=Ae(i))==null?void 0:y.activeElement,N=l.tabs.value.findIndex(A=>$(A)===P);N!==-1&&l.setSelectedIndex(N)}return C}function q(r){let y=l.tabs.value.map(C=>$(C)).filter(Boolean);if(r.key===D.Space||r.key===D.Enter){r.preventDefault(),r.stopPropagation(),l.setSelectedIndex(T.value);return}switch(r.key){case D.Home:case D.PageUp:return r.preventDefault(),r.stopPropagation(),b(()=>G(y,M.First));case D.End:case D.PageDown:return r.preventDefault(),r.stopPropagation(),b(()=>G(y,M.Last))}if(b(()=>ee(l.orientation.value,{vertical(){return r.key===D.ArrowUp?G(y,M.Previous|M.WrapAround):r.key===D.ArrowDown?G(y,M.Next|M.WrapAround):Z.Error},horizontal(){return r.key===D.ArrowLeft?G(y,M.Previous|M.WrapAround):r.key===D.ArrowRight?G(y,M.Next|M.WrapAround):Z.Error}}))===Z.Success)return r.preventDefault()}let W=x(!1);function o(){var r;W.value||(W.value=!0,!t.disabled&&((r=$(i))==null||r.focus({preventScroll:!0}),l.setSelectedIndex(T.value),Ee(()=>{W.value=!1})))}function c(r){r.preventDefault()}let g=Pe(S(()=>({as:t.as,type:u.type})),i);return()=>{var r,y;let C={selected:m.value,disabled:(r=t.disabled)!=null?r:!1},{...P}=t,N={ref:i,onKeydown:q,onMousedown:c,onClick:o,id:d,role:"tab",type:g.value,"aria-controls":(y=$(l.panels.value[T.value]))==null?void 0:y.id,"aria-selected":m.value,tabIndex:m.value?0:-1,disabled:t.disabled?!0:void 0};return Q({ourProps:N,theirProps:P,slot:C,attrs:u,slots:p,name:"Tab"})}}}),Ve=Y({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:u,attrs:p}){let v=K("TabPanels");return()=>{let a={selectedIndex:v.selectedIndex.value};return Q({theirProps:t,ourProps:{},slot:a,attrs:p,slots:u,name:"TabPanels"})}}}),Ge=Y({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(t,{attrs:u,slots:p,expose:v}){var a;let d=(a=t.id)!=null?a:`headlessui-tabs-panel-${me()}`,l=K("TabPanel"),i=x(null);v({el:i,$el:i}),z(()=>l.registerPanel(i)),ce(()=>l.unregisterPanel(i));let k=le(ae),R=S(()=>{if(k.value){let b=k.value.panels.indexOf(d);return b===-1?k.value.panels.push(d)-1:b}return-1}),T=S(()=>{let b=l.panels.value.indexOf(i);return b===-1?R.value:b}),m=S(()=>T.value===l.selectedIndex.value);return()=>{var b;let q={selected:m.value},{tabIndex:W,...o}=t,c={ref:i,id:d,role:"tabpanel","aria-labelledby":(b=$(l.tabs.value[T.value]))==null?void 0:b.id,tabIndex:m.value?W:-1};return!m.value&&t.unmount&&!t.static?te(he,{as:"span","aria-hidden":!0,...c}):Q({ourProps:c,theirProps:o,slot:q,attrs:u,slots:p,features:ue.Static|ue.RenderStrategy,visible:m.value,name:"TabPanel"})}}});function ze(t,u){return n(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"})])}const Ye={__name:"AddToWishlistButton",props:{productId:Number},setup(t){const u=t,p=x(!1),v=async()=>{const l=await axios.get(`/wishlist/check/${u.productId}`);p.value=l.data.isInWishlist},a=async()=>{try{await ve.post("/wishlist/toggle",{product_id:u.productId})}catch(l){console.error("Error toggling wishlist:",l)}},d=S(()=>({"":!0}));return z(v),(l,i)=>(n(),f("button",{onClick:a,class:V(d.value)},[p.value?(n(),O(h(ze),{key:0,class:"h-6 w-6 text-red-500 flex-shrink-0","aria-hidden":"true"})):(n(),O(h($e),{key:1,class:"h-6 w-6 text-gray-500 flex-shrink-0","aria-hidden":"true"}))],2))}},He={"aria-labelledby":"related-heading",class:"bg-white py-24 sm:py-32 lg:py-40"},Qe={class:"mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8"},Ke=e("h2",{id:"related-heading",class:"text-lg font-medium text-gray-900"},"Customers also purchased",-1),Je={class:"mt-6 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8"},Ze={class:"aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-md bg-gray-200 lg:aspect-none group-hover:opacity-75 lg:h-80"},Xe=["src","alt"],et={class:"mt-4 flex justify-between"},tt={class:"text-sm text-gray-700"},st=["href"],lt=e("span",{"aria-hidden":"true",class:"absolute inset-0"},null,-1),at={class:"mt-1 text-sm text-gray-500"},rt={class:"text-sm font-medium text-gray-900"},ot={__name:"RelatedProductsSection",props:{relatedProducts:{type:Array,required:!0}},setup(t){return(u,p)=>(n(),f("section",He,[e("div",Qe,[Ke,e("div",Je,[(n(!0),f(j,null,F(t.relatedProducts,v=>(n(),f("div",{key:v.id,class:"group relative"},[e("div",Ze,[e("img",{src:v.imageSrc,alt:v.imageAlt,class:"h-full w-full object-cover object-center lg:h-full lg:w-full"},null,8,Xe)]),e("div",et,[e("div",null,[e("h3",tt,[e("a",{href:v.href},[lt,se(" "+_(v.name),1)],8,st)]),e("p",at,_(v.color),1)]),e("p",rt,_(v.price)+" €",1)])]))),128))])])]))}},nt={class:"bg-white"},it={class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},ut={class:"lg:grid lg:grid-cols-2 lg:items-start lg:gap-x-8 mt-8"},dt={class:"mx-auto mt-6 hidden w-full max-w-2xl sm:block lg:max-w-none"},ct={class:"sr-only"},vt={class:"absolute inset-0 overflow-hidden rounded-md"},mt=["src"],ht=["src","alt"],ft={class:"mt-10 px-4 sm:mt-16 sm:px-0 lg:mt-0"},pt={class:"text-3xl font-bold tracking-tight text-gray-900"},gt={class:"mt-3"},xt=e("h2",{class:"sr-only"},"Product information",-1),bt={class:"text-3xl tracking-tight text-gray-900"},yt={class:"mt-3"},wt=e("h3",{class:"sr-only"},"Reviews",-1),_t={class:"flex items-center"},kt={class:"flex items-center"},$t={class:"sr-only"},Tt={class:"mt-6"},It=e("h3",{class:"sr-only"},"Description",-1),St=["innerHTML"],Ct={class:"mt-6"},Pt={class:"mt-10 flex"},At={type:"button",class:"ml-4 flex items-center justify-center rounded-md px-3 py-3 text-gray-400 hover:bg-gray-100 hover:text-gray-500"},Rt={"aria-labelledby":"details-heading",class:"mt-12"},Et=e("h2",{id:"details-heading",class:"sr-only"},"Additional details",-1),jt={class:"divide-y divide-gray-200 border-t"},Ot={class:"ml-6 flex items-center"},Ft={role:"list"},Nt={"aria-labelledby":"reviews-heading",class:"bg-white"},Bt={class:"mx-auto max-w-2xl px-4 py-24 sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-12 lg:gap-x-8 lg:px-8 lg:py-32"},Dt={class:"lg:col-span-4"},Mt=e("h2",{id:"reviews-heading",class:"text-2xl font-bold tracking-tight text-gray-900"},"Customer Reviews",-1),Wt={class:"mt-3 flex items-center"},Lt={class:"flex items-center"},Ut={class:"sr-only"},qt={class:"ml-2 text-sm text-gray-900"},Vt={class:"mt-6"},Gt=e("h3",{class:"sr-only"},"Review data",-1),zt={class:"space-y-3"},Yt={class:"flex flex-1 items-center"},Ht={class:"w-3 font-medium text-gray-900"},Qt=e("span",{class:"sr-only"}," star reviews",-1),Kt={"aria-hidden":"true",class:"ml-1 flex flex-1 items-center"},Jt={class:"relative ml-3 flex-1"},Zt=e("div",{class:"h-3 rounded-full border border-gray-200 bg-gray-100"},null,-1),Xt={class:"ml-3 w-10 text-right text-sm tabular-nums text-gray-900"},es={key:0,class:"mt-10"},ts=e("h3",{class:"text-lg font-medium text-gray-900"},"Share your thoughts",-1),ss=e("p",{class:"mt-1 text-sm text-gray-600"},"If you’ve used this product, share your thoughts with other customers",-1),ls={key:0,class:"mt-4"},as=e("label",{for:"rating",class:"block text-sm font-medium text-gray-700"},"Rating",-1),rs=["value"],os=e("button",{type:"submit",class:"mt-2 bg-blue-500 text-white rounded px-4 py-2"},"Submit Review",-1),ns={class:"mt-16 lg:col-span-7 lg:col-start-6 lg:mt-0"},is=e("h3",{class:"sr-only"},"Recent reviews",-1),us={class:"flow-root"},ds={class:"-my-12 divide-y divide-gray-200"},cs={class:"flex items-center"},vs={class:"ml-4"},ms={class:"text-sm font-bold text-gray-900"},hs={class:"mt-1 flex items-center"},fs={class:"mt-4 text-sm text-gray-600"},ps=["onClick"],gs=["onClick"],Cs={__name:"Show",props:{product:Object,siteSettings:Object,reviews:Object,relatedProducts:Array},setup(t){var re;const u=t,{auth:p}=ge().props,v=((re=p==null?void 0:p.user)==null?void 0:re.id)||null,a=xe({id:null,product_id:u.product.id,rating:null,comment:""}),d=x(!1),l=x(!1),i=x(!1),k=x(!1),R=x(""),T=x(""),m=x(""),b=x(""),q=x(""),W=x(""),{addToCart:o,showCartNotification:c}=Te(),g=async w=>{if(w.preventDefault(),!u.product||u.product.id===void 0){console.error("Product is undefined or lacks an ID.");return}await o({id:u.product.id,quantity:1,price:u.product.price})};de(c,w=>{w&&setTimeout(()=>{c.value=!1},5e3)});const r=async()=>{try{await ve.post("/wishlist/toggle",{product_id:u.product.id})}catch(w){console.error("Error updating wishlist:",w)}};function y(){d.value=!d.value,d.value&&A.value&&(a.id=A.value.id,a.rating=A.value.rating,a.comment=A.value.comment)}function C(){console.log("Submit Review Called"),console.log("Form Data:",a),a.id?a.put(`/products/${u.product.id}/reviews/${a.id}`,{preserveScroll:!0,onSuccess:()=>{a.reset(),d.value=!1,R.value="Review Updated",T.value="Your review has been updated successfully.",l.value=!0,setTimeout(()=>{l.value=!1},3e3)},onError:w=>{console.error(w),m.value="Review Error",b.value=w.message||"An error occurred while updating your review.",i.value=!0,setTimeout(()=>{i.value=!1},3e3)}}):a.post(`/products/${u.product.id}/reviews`,{preserveScroll:!0,onSuccess:()=>{a.reset(),d.value=!1,R.value="Review Submitted",T.value="Your review has been submitted successfully.",l.value=!0,setTimeout(()=>{l.value=!1},3e3)},onError:w=>{console.error(w),m.value="Review Error",b.value=w.message||"An error occurred while submitting your review.",i.value=!0,setTimeout(()=>{i.value=!1},3e3)}})}function P(w){a.id=w.id,a.comment=w.comment,a.rating=w.rating,d.value=!0}function N(w){confirm("Are you sure you want to delete this review?")&&a.delete(`/products/${u.product.id}/reviews/${w}`,{onSuccess:()=>{a.reset(),R.value="Review Deleted",T.value="Your review has been deleted successfully.",l.value=!0,setTimeout(()=>{l.value=!1},3e3)},onError:I=>{console.error(I),m.value="Delete Error",b.value=I.message||"An error occurred while deleting your review.",i.value=!0,setTimeout(()=>{i.value=!1},3e3)}})}const A=x(null);return z(()=>{A.value=u.reviews.userReview||null,A.value&&(a.id=A.value.id,a.comment=A.value.comment,a.rating=A.value.rating)}),(w,I)=>(n(),O(Ie,{siteSettings:t.siteSettings,title:t.product.slug},{default:B(()=>[e("div",nt,[e("div",it,[e("div",ut,[E(h(Le),{as:"div",class:"flex flex-col-reverse"},{default:B(()=>[e("div",dt,[E(h(Ue),{class:"grid grid-cols-4 gap-6"},{default:B(()=>[(n(!0),f(j,null,F(t.product.images,s=>(n(),O(h(qe),{key:s.id,class:"relative flex h-24 cursor-pointer items-center justify-center rounded-md bg-white text-sm font-medium uppercase text-gray-900 hover:bg-gray-50 focus:outline-none focus:ring focus:ring-opacity-50 focus:ring-offset-4"},{default:B(({selected:L})=>[e("span",ct,_(s.name),1),e("span",vt,[e("img",{src:s.url,alt:"",class:"h-full w-full object-cover object-center"},null,8,mt)]),e("span",{class:V([L?"ring-blue-500":"ring-transparent","pointer-events-none absolute inset-0 rounded-md ring-2 ring-offset-2"]),"aria-hidden":"true"},null,2)]),_:2},1024))),128))]),_:1})]),E(h(Ve),{class:"aspect-h-1 aspect-w-1 w-full"},{default:B(()=>[(n(!0),f(j,null,F(t.product.images,s=>(n(),O(h(Ge),{key:s.id},{default:B(()=>[e("img",{src:s.url,alt:s.alt,class:"h-full w-full object-cover object-center sm:rounded-lg"},null,8,ht)]),_:2},1024))),128))]),_:1})]),_:1}),e("div",ft,[e("h1",pt,_(t.product.name),1),e("div",gt,[xt,e("p",bt,_(t.product.price)+"€",1)]),e("div",yt,[wt,e("div",_t,[e("div",kt,[(n(),f(j,null,F([0,1,2,3,4],s=>E(h(X),{key:s,class:V([t.reviews.average>s?"text-yellow-400":"text-gray-300","h-5 w-5 flex-shrink-0"]),"aria-hidden":"true"},null,8,["class"])),64))]),e("p",$t,_(t.reviews.average)+" out of 5 stars",1)])]),e("div",Tt,[It,e("div",{class:"mt-6 text-base text-gray-700 break-words overflow-hidden",innerHTML:t.product.description},null,8,St)]),e("form",Ct,[e("div",Pt,[E(Se,{onClick:g,class:"flex max-w-xs flex-1 items-center justify-center rounded-md border border-transparent bg-blue-600 px-8 py-3 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-50 sm:w-full"},{default:B(()=>[se("Add to bag")]),_:1}),e("div",At,[E(Ye,{"product-id":t.product.id,onClick:r},null,8,["product-id"])])])]),e("section",Rt,[Et,e("div",jt,[(n(!0),f(j,null,F(t.product.details,s=>(n(),O(h(je),{as:"div",key:s.name},{default:B(({open:L})=>[e("h3",null,[E(h(Oe),{class:"group relative flex w-full items-center justify-between py-6 text-left"},{default:B(()=>[e("span",{class:V([L?"text-blue-600":"text-gray-900","text-sm font-medium"])},_(s.name),3),e("span",Ot,[L?(n(),O(h(Ne),{key:1,class:"block h-6 w-6 text-blue-400 group-hover:text-blue-500","aria-hidden":"true"})):(n(),O(h(Be),{key:0,class:"block h-6 w-6 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}))])]),_:2},1024)]),E(h(Fe),{as:"div",class:"prose prose-sm pb-6"},{default:B(()=>[e("ul",Ft,[(n(!0),f(j,null,F(s.items,oe=>(n(),f("li",{key:oe},_(oe),1))),128))])]),_:2},1024)]),_:2},1024))),128))])])])])]),e("section",Nt,[e("div",Bt,[e("div",Dt,[Mt,e("div",Wt,[e("div",null,[e("div",Lt,[(n(),f(j,null,F([0,1,2,3,4],s=>E(h(X),{key:s,class:V([t.reviews.average>s?"text-yellow-400":"text-gray-300","h-5 w-5 flex-shrink-0"]),"aria-hidden":"true"},null,8,["class"])),64))]),e("p",Ut,_(t.reviews.average)+" out of 5 stars",1)]),e("p",qt,"Based on "+_(t.reviews.totalCount)+" reviews",1)]),e("div",Vt,[Gt,e("dl",zt,[(n(!0),f(j,null,F([...t.reviews.counts].reverse(),s=>(n(),f("div",{key:s.rating,class:"flex items-center text-sm"},[e("dt",Yt,[e("p",Ht,[se(_(s.rating),1),Qt]),e("div",Kt,[E(h(X),{class:V([s.count>0?"text-yellow-400":"text-gray-300","h-5 w-5 flex-shrink-0"]),"aria-hidden":"true"},null,8,["class"]),e("div",Jt,[Zt,s.count>0?(n(),f("div",{key:0,class:"absolute inset-y-0 rounded-full border border-yellow-400 bg-yellow-400",style:ke({width:`calc(${s.count} / ${t.reviews.totalCount} * 100%)`})},null,4)):U("",!0)])])]),e("dd",Xt,_(Math.round(s.count/t.reviews.totalCount*100))+"%",1)]))),128))])]),h(v)?(n(),f("div",es,[ts,ss,e("button",{onClick:y,class:"mt-6 inline-flex w-full items-center justify-center rounded-md border border-gray-300 bg-white px-8 py-2 text-sm font-medium text-gray-900 hover:bg-gray-50 sm:w-auto lg:w-full"},_(d.value?"Close Review Form":"Write a Review"),1),d.value&&h(v)?(n(),f("div",ls,[e("form",{onSubmit:be(C,["prevent"])},[e("div",null,[as,ie(e("select",{"onUpdate:modelValue":I[0]||(I[0]=s=>h(a).rating=s),id:"rating",class:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},[(n(),f(j,null,F(5,s=>e("option",{key:s,value:s},_(s),9,rs)),64))],512),[[ye,h(a).rating]])]),ie(e("textarea",{"onUpdate:modelValue":I[1]||(I[1]=s=>h(a).comment=s),rows:"4",class:"w-full p-2 border border-gray-300 rounded-md mt-4",placeholder:"Write your review here..."},null,512),[[we,h(a).comment]]),os],32)])):U("",!0)])):U("",!0)]),e("div",ns,[is,e("div",us,[e("div",ds,[(n(!0),f(j,null,F(t.reviews.featured,s=>(n(),f("div",{key:s.id,class:"py-12"},[e("div",cs,[e("div",vs,[e("h4",ms,_(s.user.name),1),e("div",hs,[(n(),f(j,null,F([0,1,2,3,4],L=>E(h(X),{key:L,class:V([s.rating>L?"text-yellow-400":"text-gray-300","h-5 w-5 flex-shrink-0"]),"aria-hidden":"true"},null,8,["class"])),64))]),e("p",fs,_(s.comment),1),s.user_id===h(v)?(n(),f("button",{key:0,onClick:L=>P(s),class:"text-blue-500"},"Edit",8,ps)):U("",!0),s.user_id===h(v)?(n(),f("button",{key:1,onClick:L=>N(s.id),class:"text-red-500 ml-2"},"Delete",8,gs)):U("",!0)])])]))),128))])])])])]),E(ot,{relatedProducts:t.relatedProducts},null,8,["relatedProducts"])]),l.value?(n(),O(J,{key:0,title:R.value,message:T.value,type:"success",visible:l.value,"onUpdate:visible":I[2]||(I[2]=s=>l.value=s)},null,8,["title","message","visible"])):U("",!0),i.value?(n(),O(J,{key:1,title:m.value,message:b.value,type:"error",visible:i.value,"onUpdate:visible":I[3]||(I[3]=s=>i.value=s)},null,8,["title","message","visible"])):U("",!0),h(c)?(n(),O(J,{key:2,title:"Product Added",message:"Product has been added to your cart.",type:"success",visible:h(c),"onUpdate:visible":I[4]||(I[4]=s=>_e(c)?c.value=s:null)},null,8,["visible"])):U("",!0),k.value?(n(),O(J,{key:3,title:q.value,message:W.value,type:"success",visible:k.value,"onUpdate:visible":I[5]||(I[5]=s=>k.value=s)},null,8,["title","message","visible"])):U("",!0)]),_:1},8,["siteSettings","title"]))}};export{Cs as default};
