import{m as N,d as U,o as c,c as h,w as l,a as e,b as i,u as s,i as u,g as m,t as _,j as B,k as p,v as x,l as S,e as b,h as V,F as $,f as j,O as y}from"./app-JsxQVuK5.js";import{_ as D}from"./AdminLayout-yxQSrgni.js";import{S as E,P as F,N as M,a as A}from"./pagination-5pq2a43H.js";import{r as I,a as f}from"./HomeIcon-tNaSnbDF.js";import{r as T}from"./PhotoIcon-B30MP_vc.js";import{r as G}from"./TrashIcon-jymW0gUZ.js";import{r as L}from"./ArrowPathIcon-Kg3LO40i.js";import"./HomeIcon-CX7JyigJ.js";import"./transition-DM51IVFY.js";import"./keyboard-B1eEn8PW.js";import"./ChevronDownIcon-BFJJcEZk.js";import"./micro-task-BhIf1XMT.js";import"./Bars3Icon-CiW0Tf8T.js";const O={class:"mx-4 mt-4 mb-14"},R={class:"flex","aria-label":"Breadcrumb"},H={role:"list",class:"flex items-center space-x-4"},J=e("span",{class:"sr-only"},"Home",-1),q={class:"flex items-center"},z={class:"flex items-center"},K={class:"flex items-center"},Q=e("a",{class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700"},"Edit",-1),W={class:"mt-4 mx-4"},X={class:"bg-white p-6 rounded-2xl border-b shadow-2xl"},Y={class:"flex justify-center px-4 py-8"},Z={class:"w-full max-w-4xl mx-auto bg-white p-8"},ee={class:"mb-8"},te={class:"text-2xl font-bold text-gray-700 mb-1 text-center"},se=e("p",{class:"text-gray-600 text-sm text-center"},"Complete the form below to update a category in your store.",-1),oe=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Category Name",-1),ae=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),ie=e("label",{for:"parent_id",class:"block text-sm font-medium text-gray-700"},"Parent Category",-1),re=e("option",{value:""},"No parent",-1),ne=["value"],le=e("label",{for:"image",class:"block text-base font-bold text-gray-900"},"Category Image",-1),de={class:"mt-4 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},ce={class:"space-y-1 text-center"},me={class:"flex text-sm text-gray-600"},ue={for:"image",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},pe=e("span",null,"Upload a file",-1),fe=e("p",{class:"pl-1"},"or drag and drop",-1),ge=e("p",{class:"text-xs text-gray-500"}," PNG, JPG, GIF up to 10MB ",-1),he=["src"],_e=e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),xe=[_e],be={class:"flex justify-end mt-4 space-x-4"},ye={type:"submit",class:"inline-flex items-center gap-x-2 rounded-md bg-blue-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600"},Ee={__name:"Edit",props:{category:Object,categories:Array},setup(g){const n=g,t=N({name:n.category.name||"",description:n.category.description||"",parent_id:n.category.parent_id||"",image:null}),d=U(n.category.image?`/storage/${n.category.image}`:"");function v(){const r=new FormData;r.append("name",t.name),r.append("description",t.description),r.append("parent_id",t.parent_id||""),t.image instanceof File?r.append("image",t.image):r.append("image",""),r.append("_method","PUT"),y.post(`/admin/categories/${n.category.id}`,r,{headers:{"Content-Type":"multipart/form-data"},onError:o=>{console.error("Error:",o),alert("Error updating the category.")}})}function w(r){const o=r.target.files[0];if(o){t.image=o;const a=new FileReader;a.onload=P=>{d.value=P.target.result},a.readAsDataURL(o)}}function k(){confirm("Are you sure you want to delete this category?")&&y.delete(`/admin/categories/${n.category.id}`)}function C(){t.image=null,d.value=""}return(r,o)=>(c(),h(D,{title:"Update category"},{default:l(()=>[e("div",O,[e("nav",R,[e("ol",H,[e("li",null,[e("div",null,[i(s(u),{href:"/admin/dashboard",class:"text-gray-400 hover:text-gray-500"},{default:l(()=>[i(s(I),{class:"h-5 w-5 flex-shrink-0","aria-hidden":"true"}),J]),_:1})])]),e("li",null,[e("div",q,[i(s(f),{class:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),i(s(u),{href:"/admin/dashboard",class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700"},{default:l(()=>[m("Admin ")]),_:1})])]),e("li",null,[e("div",z,[i(s(f),{class:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),i(s(u),{href:"/admin/categories",class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700"},{default:l(()=>[m("Categories ")]),_:1})])]),e("li",null,[e("div",K,[i(s(f),{class:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),Q])])])])]),e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[e("h1",te,"Update "+_(t.name),1),se]),e("form",{onSubmit:B(v,["prevent"]),class:"space-y-6"},[e("div",null,[oe,p(e("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.name=a),type:"text",id:"name",name:"name",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"category..."},null,512),[[x,t.name]])]),e("div",null,[ae,p(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=a=>t.description=a),id:"description",name:"description",rows:"4",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Provide a detailed description of the category"},null,512),[[x,t.description]])]),e("div",null,[ie,p(e("select",{"onUpdate:modelValue":o[2]||(o[2]=a=>t.parent_id=a),id:"parent_id",name:"parent_id",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},[re,(c(!0),b($,null,V(g.categories,a=>(c(),b("option",{key:a.id,value:a.id},_(a.name),9,ne))),128))],512),[[S,t.parent_id]])]),e("div",null,[le,e("div",de,[e("div",ce,[i(s(T),{class:"mx-auto h-12 w-12 text-gray-400"}),e("div",me,[e("label",ue,[pe,e("input",{id:"image",name:"image",type:"file",class:"sr-only",onChange:w},null,32)]),fe]),ge])])]),i(s(A),{modules:[s(F),s(M)],class:"mySwiper",spaceBetween:"{30}",slidesPerView:"{1}",navigation:"",pagination:""},{default:l(()=>[d.value?(c(),h(s(E),{key:0},{default:l(()=>[e("img",{src:d.value,alt:"Preview",class:"object-cover rounded-lg shadow-md h-96"},null,8,he),e("button",{onClick:C,class:"absolute top-0 right-0 m-2 bg-red-500 text-white p-1 rounded-full"},xe)]),_:1})):j("",!0)]),_:1},8,["modules"]),e("div",be,[e("button",{type:"button",onClick:k,class:"inline-flex items-center gap-x-2 rounded-md bg-red-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600"},[i(s(G),{class:"-ml-0.5 h-5 w-5","aria-hidden":"true"}),m(" Delete category ")]),e("button",ye,[i(s(L),{class:"-ml-0.5 h-5 w-5","aria-hidden":"true"}),m(" Update category ")])])],32)])])])])]),_:1}))}};export{Ee as default};
