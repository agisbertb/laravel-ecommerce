import{d as x,p as M,s as O,q as P,o as n,c as V,w as _,a as e,b as o,u as l,i as H,e as d,h as w,F as k,k as S,v as j,g,x as z,n as $,y as E,t as i,O as F}from"./app-Cxyj-LO2.js";import{_ as I,r as Z}from"./AdminLayout-DzAcwDTt.js";import{_ as q}from"./AlertNotification-D5CAYTCq.js";import{r as Q,a as B}from"./HomeIcon-BaBBpbdS.js";import{r as R,a as D}from"./ChevronLeftIcon-_UR9GOBL.js";import{r as G}from"./ChevronDownIcon-DUKbdmBo.js";import"./HomeIcon-D3-R6IGz.js";import"./transition-Dnr0CMhO.js";import"./keyboard-DFV0bmR6.js";import"./micro-task-BXxnZ-Br.js";import"./ExclamationCircleIcon-0VQos8pm.js";const J={class:"mx-4 mt-4 mb-14"},K={class:"flex","aria-label":"Breadcrumb"},W={role:"list",class:"flex items-center space-x-4"},X=e("span",{class:"sr-only"},"Home",-1),Y={class:"flex items-center"},ee=["href","aria-current"],te={class:"mt-4 mx-4"},se={class:"bg-white p-6 rounded-2xl border-b shadow-2xl"},ae={class:"sm:flex sm:items-center sm:justify-between"},re={class:"relative inline-block text-left"},oe=e("label",{for:"mobile-search-candidate",class:"sr-only"},"Search",-1),ne=e("label",{for:"desktop-search-candidate",class:"sr-only"},"Search",-1),le={class:"flex rounded-md shadow-sm"},ie={class:"relative flex-grow focus-within:z-10"},de={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},ce={class:"text-gray-700"},ue={class:"mt-8 flow-root"},me={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},he={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},fe={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg"},xe={class:"min-w-full divide-y divide-gray-300"},ge=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"},"Payment ID"),e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"},"User"),e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"},"Status"),e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"},"Method"),e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"},"Amount")])],-1),ye={class:"divide-y divide-gray-200 bg-white"},pe={class:"border-t px-6 py-4 text-center"},be={class:"border-t px-6 py-4 text-center"},ve={class:"border-t px-6 py-4 text-center"},_e={class:"flex items-center justify-center gap-x-2"},we=e("div",{class:"h-1.5 w-1.5 rounded-full bg-current"},null,-1),ke=[we],Se={class:"text-gray-900"},$e={class:"border-t px-6 py-4 text-center"},Be={class:"border-t px-6 py-4 text-center"},Ce={class:"flex items-center border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},Ae={class:"text-sm text-gray-700"},Pe={class:"font-medium"},je={class:"font-medium"},De={class:"font-medium"},Ne={class:"flex justify-end flex-grow"},Te={class:"inline-flex rounded-md shadow-sm","aria-label":"Pagination"},Ue=["href"],Le=e("span",{class:"sr-only"},"Previous",-1),Me={key:1,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-300"},Oe=e("span",{class:"sr-only"},"Previous",-1),Ve=["href"],He=["href"],ze=e("span",{class:"sr-only"},"Next",-1),Ee={key:3,class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-300"},Fe=e("span",{class:"sr-only"},"Next",-1),et={__name:"Index",props:{payments:Object,flash:Object},setup(r){const y=r,N=[{name:"Admin",href:"/admin/dashboard",current:!1},{name:"Payments",href:"/admin/payments",current:!0}],c=x(!1),C=x(""),m=x(""),h=x(!1),b=x(""),T=a=>{!a.target.closest(".dropdown-button")&&!a.target.closest(".dropdown-menu")&&(c.value=!1)};M(()=>{y.flash&&y.flash.success&&(b.value=y.flash.success,h.value=!0,setTimeout(()=>{h.value=!1},5e3))}),O(()=>{window.removeEventListener("click",T)}),P(m,a=>{A(a)}),P(()=>y.flash.success,a=>{a&&(b.value=a,h.value=!0,setTimeout(()=>{h.value=!1},5e3))},{immediate:!0});const U=(a,s)=>{let t=a-1,f=a+1;const u=[];t<1&&(t=1),f>s&&(f=s);for(let v=t;v<=f;v++)u.push(v);return t>2&&(u.unshift("..."),u.unshift(1)),f<s-1?(u.push("..."),u.push(s)):f===s-1&&u.push(s),u};function A(a,s=C.value){F.get("/admin/payments",{search:a,order:s},{preserveState:!0,replace:!0,preserveScroll:!0})}function p(a){C.value=a,A(m.value,a),c.value=!1}const L={pending:"text-yellow-400 bg-yellow-400/10",paid:"text-green-400 bg-green-400/10",failed:"text-red-400 bg-red-400/10",refunded:"text-blue-400 bg-blue-400/10"};return(a,s)=>(n(),V(I,{title:"Payments"},{default:_(()=>[e("div",J,[e("nav",K,[e("ol",W,[e("li",null,[e("div",null,[o(l(H),{href:"/admin/dashboard",class:"text-gray-400 hover:text-gray-500"},{default:_(()=>[o(l(Q),{class:"h-5 w-5 flex-shrink-0","aria-hidden":"true"}),X]),_:1})])]),(n(),d(k,null,w(N,t=>e("li",{key:t.name},[e("div",Y,[o(l(B),{class:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),e("a",{href:t.href,class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700","aria-current":t.current?"page":void 0},i(t.name),9,ee)])])),64))])])]),o(q,{title:"Success",message:b.value,visible:h.value,"onUpdate:visible":s[0]||(s[0]=t=>h.value=t)},null,8,["message","visible"]),e("div",te,[e("div",se,[e("div",ae,[e("div",re,[oe,ne,e("div",le,[e("div",ie,[e("div",de,[o(l(Z),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),S(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>m.value=t),id:"mobile-search-candidate",name:"search",type:"search",class:"block w-full rounded-none rounded-l-md border-0 py-1.5 pl-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:hidden",placeholder:"Search"},null,512),[[j,m.value]]),S(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>m.value=t),id:"desktop-search-candidate",name:"search-mobile",type:"search",class:"hidden w-full rounded-none rounded-l-md border-0 py-1.5 pl-10 text-sm leading-6 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:block",placeholder:"Search payments"},null,512),[[j,m.value]])]),e("button",{onClick:s[3]||(s[3]=t=>c.value=!c.value),type:"button",class:"dropdown-button relative -ml-px inline-flex items-center gap-x-1.5 rounded-r-md px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50"},[o(l(R),{class:"-ml-0.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),g(" Sort "),o(l(G),{class:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]),o(E,{name:"dropdown","enter-active-class":"transition ease-out duration-200","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:_(()=>[S(e("div",{class:$(["dropdown-menu absolute right-0 top-full mt-1 rounded-md bg-white shadow-lg overflow-hidden transition ease-out duration-200 transform origin-top-right",{"scale-100 opacity-100":c.value,"scale-95 opacity-0":!c.value}])},[e("ul",ce,[e("li",null,[e("button",{class:"block px-4 py-2 hover:bg-gray-100 w-full text-left text-sm",onClick:s[4]||(s[4]=t=>p("amount_asc"))},"Amount: Low to High")]),e("li",null,[e("button",{class:"block px-4 py-2 hover:bg-gray-100 w-full text-left text-sm",onClick:s[5]||(s[5]=t=>p("amount_desc"))},"Amount: High to Low")]),e("li",null,[e("button",{class:"block px-4 py-2 hover:bg-gray-100 w-full text-left text-sm",onClick:s[6]||(s[6]=t=>p("status_asc"))},"Status: A to Z")]),e("li",null,[e("button",{class:"block px-4 py-2 hover:bg-gray-100 w-full text-left text-sm",onClick:s[7]||(s[7]=t=>p("status_desc"))},"Status: Z to A")])])],2),[[z,c.value]])]),_:1})])])]),e("div",ue,[e("div",me,[e("div",he,[e("div",fe,[e("table",xe,[ge,e("tbody",ye,[(n(!0),d(k,null,w(r.payments.data,t=>(n(),d("tr",{key:t.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[e("td",pe,i(t.id),1),e("td",be,i(t.order.user.name),1),e("td",ve,[e("div",_e,[e("div",{class:$([L[t.status],"flex-none rounded-full p-1"])},ke,2),e("div",Se,i(t.status),1)])]),e("td",$e,i(t.method),1),e("td",Be,i(t.amount)+" â‚¬ ",1)]))),128))])]),e("div",Ce,[e("div",Ae,[g(" Showing "),e("span",Pe,i(r.payments.from),1),g(" to "),e("span",je,i(r.payments.to),1),g(" of "),e("span",De,i(r.payments.total),1),g(" results ")]),e("div",Ne,[e("nav",Te,[r.payments.prev_page_url?(n(),d("a",{key:0,href:r.payments.prev_page_url,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},[o(l(D),{class:"h-5 w-5","aria-hidden":"true"}),Le],8,Ue)):(n(),d("a",Me,[o(l(D),{class:"h-5 w-5","aria-hidden":"true"}),Oe])),(n(!0),d(k,null,w(U(r.payments.current_page,r.payments.last_page),t=>(n(),d("a",{key:t,href:`?page=${t}`,class:$([{"bg-blue-600 text-white border-blue-600":t===r.payments.current_page,"border-t border-b border-gray-300 text-gray-700 hover:bg-gray-50":t!==r.payments.current_page,"border-r":t!==r.payments.last_page},"relative inline-flex items-center px-4 py-2 text-sm font-medium"])},i(t),11,Ve))),128)),r.payments.next_page_url?(n(),d("a",{key:2,href:r.payments.next_page_url,class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},[o(l(B),{class:"h-5 w-5","aria-hidden":"true"}),ze],8,He)):(n(),d("a",Ee,[o(l(B),{class:"h-5 w-5","aria-hidden":"true"}),Fe]))])])])])])])])])])]),_:1}))}};export{et as default};
