import{d as p,p as z,s as E,q as N,o as n,c as F,w as c,a as e,b as r,u as i,i as b,e as l,h as w,F as k,k as $,v as A,g as d,x as L,n as D,y as Z,t as u,O as T}from"./app-JsxQVuK5.js";import{_ as q,r as H}from"./AdminLayout-yxQSrgni.js";import{_ as I}from"./AlertNotification-BOvMC4Vv.js";import{r as Q,a as S}from"./HomeIcon-tNaSnbDF.js";import{r as R,a as O}from"./ChevronLeftIcon-DIV9c5NW.js";import{r as G}from"./ChevronDownIcon-BFJJcEZk.js";import{r as J}from"./PlusIcon-D7nkZKuz.js";import{r as K}from"./PencilSquareIcon-_8VqL3Iy.js";import{r as W}from"./TrashIcon-jymW0gUZ.js";import"./HomeIcon-CX7JyigJ.js";import"./transition-DM51IVFY.js";import"./keyboard-B1eEn8PW.js";import"./micro-task-BhIf1XMT.js";import"./Bars3Icon-CiW0Tf8T.js";import"./ExclamationCircleIcon-Deok98lu.js";const X={class:"mx-4 mt-4 mb-14"},Y={class:"flex","aria-label":"Breadcrumb"},ee={role:"list",class:"flex items-center space-x-4"},te=e("span",{class:"sr-only"},"Home",-1),se={class:"flex items-center"},re=["href","aria-current"],ae={class:"mt-4 mx-4"},ie={class:"bg-white p-6 rounded-2xl border-b shadow-2xl"},oe={class:"sm:flex sm:items-center sm:justify-between"},ne={class:"relative inline-block text-left"},le=e("label",{for:"mobile-search-candidate",class:"sr-only"},"Search",-1),de=e("label",{for:"desktop-search-candidate",class:"sr-only"},"Search",-1),ce={class:"flex rounded-md shadow-sm"},ue={class:"relative flex-grow focus-within:z-10"},me={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},fe={class:"text-gray-700"},he={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex sm:flex-row-reverse"},ge={type:"button",class:"inline-flex items-center gap-x-2 rounded-md bg-blue-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600"},xe={class:"mt-8 flow-root"},be={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},pe={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},ve={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg"},ye={class:"min-w-full divide-y divide-gray-300"},_e=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"},"Name "),e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"}," Parent Category"),e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"}," Description"),e("th",{scope:"col",class:"px-3 py-3.5 text-sm font-semibold text-center text-gray-900"}," Action")])],-1),we={class:"divide-y divide-gray-200 bg-white"},ke={class:"border-t"},$e={class:"border-t"},Se={class:"border-t"},Ce={class:"border-t"},je={class:"flex justify-center space-x-4"},Be=["onClick"],Ne={class:"flex items-center border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},Ae={class:"text-sm text-gray-700"},De={class:"font-medium"},Te={class:"font-medium"},Oe={class:"font-medium"},Pe={class:"flex justify-end flex-grow"},Ue={class:"inline-flex rounded-md shadow-sm","aria-label":"Pagination"},Ve=["href"],Me=e("span",{class:"sr-only"},"Previous",-1),ze={key:1,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-300"},Ee=e("span",{class:"sr-only"},"Previous",-1),Fe=["href"],Le=["href"],Ze=e("span",{class:"sr-only"},"Next",-1),qe={key:3,class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-300"},He=e("span",{class:"sr-only"},"Next",-1),ot={__name:"Index",props:{categories:Object,flash:Object},setup(o){const v=o,P=[{name:"Admin",href:"/admin/dashboard",current:!1},{name:"categories",href:"/admin/categories",current:!0}],m=p(!1),C=p(""),h=p(""),g=p(!1),y=p(""),U=a=>{!a.target.closest(".dropdown-button")&&!a.target.closest(".dropdown-menu")&&(m.value=!1)};z(()=>{v.flash&&v.flash.success&&(y.value=v.flash.success,g.value=!0,setTimeout(()=>{g.value=!1},5e3))}),E(()=>{window.removeEventListener("click",U)}),N(h,a=>{j(a)}),N(()=>v.flash.success,a=>{a&&(y.value=a,g.value=!0,setTimeout(()=>{g.value=!1},5e3))},{immediate:!0});const V=(a,s)=>{let t=a-1,x=a+1;const f=[];t<1&&(t=1),x>s&&(x=s);for(let _=t;_<=x;_++)f.push(_);return t>2&&(f.unshift("..."),f.unshift(1)),x<s-1?(f.push("..."),f.push(s)):x===s-1&&f.push(s),f};function j(a,s=C.value){T.get("/admin/categories",{search:a,order:s},{preserveState:!0,replace:!0,preserveScroll:!0})}function B(a){C.value=a,j(h.value,a),m.value=!1}function M(a){confirm("Are you sure you want to delete this category?")&&T.delete(`/admin/categories/${a}`)}return(a,s)=>(n(),F(q,{title:"Categories"},{default:c(()=>[e("div",X,[e("nav",Y,[e("ol",ee,[e("li",null,[e("div",null,[r(i(b),{href:"/admin/dashboard",class:"text-gray-400 hover:text-gray-500"},{default:c(()=>[r(i(Q),{class:"h-5 w-5 flex-shrink-0","aria-hidden":"true"}),te]),_:1})])]),(n(),l(k,null,w(P,t=>e("li",{key:t.name},[e("div",se,[r(i(S),{class:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),e("a",{href:t.href,class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700","aria-current":t.current?"page":void 0},u(t.name),9,re)])])),64))])])]),r(I,{title:"Success",message:y.value,visible:g.value,"onUpdate:visible":s[0]||(s[0]=t=>g.value=t)},null,8,["message","visible"]),e("div",ae,[e("div",ie,[e("div",oe,[e("div",ne,[le,de,e("div",ce,[e("div",ue,[e("div",me,[r(i(H),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),$(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>h.value=t),id:"mobile-search-candidate",name:"search",type:"search",class:"block w-full rounded-none rounded-l-md border-0 py-1.5 pl-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:hidden",placeholder:"Search"},null,512),[[A,h.value]]),$(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>h.value=t),id:"desktop-search-candidate",name:"search-mobile",type:"search",class:"hidden w-full rounded-none rounded-l-md border-0 py-1.5 pl-10 text-sm leading-6 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:block",placeholder:"Search categories"},null,512),[[A,h.value]])]),e("button",{onClick:s[3]||(s[3]=t=>m.value=!m.value),type:"button",class:"dropdown-button relative -ml-px inline-flex items-center gap-x-1.5 rounded-r-md px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50"},[r(i(R),{class:"-ml-0.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),d(" Sort "),r(i(G),{class:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]),r(Z,{name:"dropdown","enter-active-class":"transition ease-out duration-200","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:c(()=>[$(e("div",{class:D(["dropdown-menu absolute right-0 top-full mt-1 rounded-md bg-white shadow-lg overflow-hidden transition ease-out duration-200 transform origin-top-right",{"scale-100 opacity-100":m.value,"scale-95 opacity-0":!m.value}])},[e("ul",fe,[e("li",null,[e("button",{class:"block px-4 py-2 hover:bg-gray-100 w-full text-left text-sm",onClick:s[4]||(s[4]=t=>B("name_asc"))},"Name: A to Z")]),e("li",null,[e("button",{class:"block px-4 py-2 hover:bg-gray-100 w-full text-left text-sm",onClick:s[5]||(s[5]=t=>B("name_desc"))},"Name: Z to A")])])],2),[[L,m.value]])]),_:1})])]),e("div",he,[r(i(b),{href:"/admin/categories/create"},{default:c(()=>[e("button",ge,[r(i(J),{class:"-ml-0.5 h-5 w-5","aria-hidden":"true"}),d(" Add category ")])]),_:1})])]),e("div",xe,[e("div",be,[e("div",pe,[e("div",ve,[e("table",ye,[_e,e("tbody",we,[(n(!0),l(k,null,w(o.categories.data,t=>(n(),l("tr",{key:t.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[e("td",ke,[r(i(b),{class:"flex justify-center items-center px-6 py-4 focus:text-blue-500",href:`/admin/categories/${t.id}/edit`},{default:c(()=>[d(u(t.name),1)]),_:2},1032,["href"])]),e("td",$e,[r(i(b),{class:"flex justify-center items-center px-6 py-4",href:`/admin/categories/${t.id}/edit`,tabindex:"-1"},{default:c(()=>[d(u(t.parent?t.parent.name:""),1)]),_:2},1032,["href"])]),e("td",Se,[r(i(b),{class:"flex justify-center items-center px-6 py-4",href:`/admin/categories/${t.id}/edit`,tabindex:"-1"},{default:c(()=>[d(u(t.description),1)]),_:2},1032,["href"])]),e("td",Ce,[e("div",je,[r(i(b),{class:"inline-flex items-center gap-x-2 rounded-md bg-green-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600",href:`/admin/categories/${t.id}/edit`,tabindex:"-1"},{default:c(()=>[r(i(K),{class:"-ml-0.5 h-5 w-5","aria-hidden":"true"})]),_:2},1032,["href"]),e("button",{type:"button",onClick:x=>M(t.id),class:"inline-flex items-center gap-x-2 rounded-md bg-red-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600"},[r(i(W),{class:"-ml-0.5 h-5 w-5","aria-hidden":"true"})],8,Be)])])]))),128))])]),e("div",Ne,[e("div",Ae,[d(" Showing "),e("span",De,u(o.categories.from),1),d(" to "),e("span",Te,u(o.categories.to),1),d(" of "),e("span",Oe,u(o.categories.total),1),d(" results ")]),e("div",Pe,[e("nav",Ue,[o.categories.prev_page_url?(n(),l("a",{key:0,href:o.categories.prev_page_url,class:"relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},[r(i(O),{class:"h-5 w-5","aria-hidden":"true"}),Me],8,Ve)):(n(),l("a",ze,[r(i(O),{class:"h-5 w-5","aria-hidden":"true"}),Ee])),(n(!0),l(k,null,w(V(o.categories.current_page,o.categories.last_page),t=>(n(),l("a",{key:t,href:`?page=${t}`,class:D([{"bg-blue-600 text-white border-blue-600":t===o.categories.current_page,"border-t border-b border-gray-300 text-gray-700 hover:bg-gray-50":t!==o.categories.current_page,"border-r":t!==o.categories.last_page},"relative inline-flex items-center px-4 py-2 text-sm font-medium"])},u(t),11,Fe))),128)),o.categories.next_page_url?(n(),l("a",{key:2,href:o.categories.next_page_url,class:"relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},[r(i(S),{class:"h-5 w-5","aria-hidden":"true"}),Ze],8,Le)):(n(),l("a",qe,[r(i(S),{class:"h-5 w-5","aria-hidden":"true"}),He]))])])])])])])])])])]),_:1}))}};export{ot as default};
