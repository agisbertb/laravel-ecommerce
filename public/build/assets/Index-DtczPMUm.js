import{o as s,e as a,a as t,d as b,A as w,c as m,w as k,b as p,u,F as x,h as g,t as n,k as $,l as S,O as y}from"./app-JsxQVuK5.js";import{_ as C}from"./CartLayout-Bjokisk9.js";import{r as q,a as j}from"./ClockIcon-4uXeoXFE.js";import"./FooterSection-B3qla_kT.js";function B(d,h){return s(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-8-5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5A.75.75 0 0 1 10 5Zm0 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z","clip-rule":"evenodd"})])}function O(d,h){return s(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"})])}const D={class:"bg-white"},L={class:"mx-auto max-w-2xl px-4 pb-24 pt-16 sm:px-6 lg:max-w-7xl lg:px-8"},V=t("h1",{class:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl"},"Shopping Cart",-1),Z={key:0,class:"text-center mt-12"},A=t("h2",{class:"text-xl font-medium text-gray-900 mt-4"},"Your cart is empty",-1),E=t("p",{class:"mt-2 text-sm text-gray-500"},"Explore a variety of items at great prices from our homepage.",-1),F=t("a",{href:"/",class:"mt-6 px-6 py-3 bg-blue-600 text-white text-center font-medium rounded hover:bg-blue-700 inline-block"}," Explore items ",-1),M={key:1},N={class:"mt-12 lg:grid lg:grid-cols-12 lg:items-start lg:gap-x-12 xl:gap-x-16"},I={"aria-labelledby":"cart-heading",class:"lg:col-span-7"},T=t("h2",{id:"cart-heading",class:"sr-only"},"Items in your shopping cart",-1),U={role:"list",class:"divide-y divide-gray-200 border-b border-t border-gray-200"},R={class:"flex-shrink-0"},Y=["src","alt"],z={class:"ml-4 flex flex-1 flex-col justify-between sm:ml-6"},G={class:"relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0"},H={class:"flex justify-between"},J={class:"text-sm"},K=["href"],P={class:"mt-1 text-sm font-medium text-gray-900"},Q={class:"mt-4 sm:mt-0 sm:pr-9"},W=["for"],X=["id","name","onUpdate:modelValue","onChange"],tt=["value"],et={class:"absolute right-0 top-0"},st=["onClick"],ot=t("span",{class:"sr-only"},"Remove",-1),at={class:"mt-4 flex space-x-2 text-sm text-gray-700"},rt={"aria-labelledby":"summary-heading",class:"mt-16 rounded-lg bg-gray-50 px-4 py-6 sm:p-6 lg:col-span-5 lg:mt-0 lg:p-8"},ct=t("h2",{id:"summary-heading",class:"text-lg font-medium text-gray-900"},"Order summary",-1),nt={class:"mt-6 space-y-4"},lt={class:"flex items-center justify-between"},it=t("dt",{class:"text-sm text-gray-600"},"Subtotal",-1),dt={class:"text-sm font-medium text-gray-900"},ut={class:"flex items-center justify-between border-t border-gray-200 pt-4"},mt=t("dt",{class:"text-base font-medium text-gray-900"},"Order total",-1),ht={class:"text-base font-medium text-gray-900"},_t=t("div",{class:"mt-6 flex justify-center"},[t("a",{href:"/cart/address",class:"w-full max-w-xs px-6 py-3 bg-blue-600 text-white text-center font-medium rounded hover:bg-blue-700"}," Save and Continue ")],-1),ft={__name:"Index",props:{cartDetails:Array,cartTotal:Number,siteSettings:Object},setup(d){const l=b(d.cartDetails),_=w(()=>l.value.reduce((r,o)=>r+o.price*o.quantity,0)),f=(r,o)=>{const e=l.value[r];o>0&&(e.quantity=o,y.patch(`/cart/update/${e.id}`,{quantity:o},{preserveState:!1}))},v=r=>{const o=l.value[r];y.delete(`/cart/remove/${o.id}`,{preserveState:!0,onSuccess:()=>{l.value.splice(r,1)}})};return(r,o)=>(s(),m(C,{title:"Shopping Cart",siteSettings:d.siteSettings},{default:k(()=>[t("div",D,[t("div",L,[V,l.value.length===0?(s(),a("div",Z,[p(u(B),{class:"h-16 w-16 mx-auto text-gray-400","aria-hidden":"true"}),A,E,F])):(s(),a("div",M,[t("form",N,[t("section",I,[T,t("ul",U,[(s(!0),a(x,null,g(l.value,(e,i)=>(s(),a("li",{key:e.id,class:"flex py-6 sm:py-10"},[t("div",R,[t("img",{src:e.product.image_url,alt:e.product.name,class:"h-24 w-24 rounded-md object-cover object-center sm:h-48 sm:w-48"},null,8,Y)]),t("div",z,[t("div",G,[t("div",null,[t("div",H,[t("h3",J,[t("a",{href:`/products/${e.product.id}`,class:"font-medium text-gray-700 hover:text-gray-800"},n(e.product.name),9,K)])]),t("p",P,"$"+n(e.price),1)]),t("div",Q,[t("label",{for:`quantity-${i}`,class:"sr-only"},"Quantity, "+n(e.product.name),9,W),$(t("select",{id:`quantity-${i}`,name:`quantity-${i}`,class:"max-w-full rounded-md border border-gray-300 py-1.5 text-left text-base font-medium leading-5 text-gray-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 sm:text-sm","onUpdate:modelValue":c=>e.quantity=c,onChange:c=>f(i,e.quantity)},[(s(!0),a(x,null,g(e.product.stock,c=>(s(),a("option",{key:c,value:c},n(c),9,tt))),128))],40,X),[[S,e.quantity]]),t("div",et,[t("button",{type:"button",class:"-m-2 inline-flex p-2 text-gray-400 hover:text-gray-500",onClick:c=>v(i)},[ot,p(u(O),{class:"h-5 w-5","aria-hidden":"true"})],8,st)])])]),t("p",at,[e.product.stock>0?(s(),m(u(q),{key:0,class:"h-5 w-5 flex-shrink-0 text-green-500","aria-hidden":"true"})):(s(),m(u(j),{key:1,class:"h-5 w-5 flex-shrink-0 text-gray-300","aria-hidden":"true"})),t("span",null,n(e.product.stock>0?"In stock":"Out of stock"),1)])])]))),128))])]),t("section",rt,[ct,t("dl",nt,[t("div",lt,[it,t("dd",dt,"$"+n(_.value),1)]),t("div",ut,[mt,t("dd",ht,"$"+n(_.value),1)])]),_t])])]))])])]),_:1},8,["siteSettings"]))}};export{ft as default};
