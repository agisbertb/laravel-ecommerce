import{A as M,r as T,a as z}from"./AppLayout-RL1yZ6o4.js";import{T as D,d as w,o as m,c as y,w as t,g as l,e as $,a,b as e,k as S,x as V,$ as R,j as C,f as U,u as o,i as B,n as b,O as q,a0 as K,Y as W,h as Y,F as Q,z as G,t as H}from"./app-JsxQVuK5.js";import{e as A,d as N,a as E,c as J,b as X,S as O}from"./SectionBorder-DviAhNtk.js";import{_ as v,b as h,a as g}from"./TextInput-C6mSNl3m.js";import{_ as F}from"./PrimaryButton-DXPfP65V.js";import{_ as j}from"./DangerButton-DUH4tg2s.js";import{r as Z}from"./UserIcon-C5xJ_kCf.js";import{r as ee}from"./HomeIcon-CX7JyigJ.js";import"./FooterSection-B3qla_kT.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ExclamationCircleIcon-Deok98lu.js";import"./Bars3Icon-CiW0Tf8T.js";const se={key:0,class:"col-span-6 sm:col-span-4"},oe={class:"mt-2"},te=["src","alt"],ae={class:"mt-2"},re={class:"col-span-6 sm:col-span-4"},le={class:"col-span-6 sm:col-span-4"},ne={key:0},ie={class:"text-sm mt-2"},ce={class:"mt-2 font-medium text-sm text-green-600"},ue={__name:"UpdateProfileInformationForm",props:{user:Object},setup(i){const c=i,r=D({_method:"PUT",name:c.user.name,email:c.user.email,photo:null}),s=w(null),u=w(null),d=w(null),n=()=>{d.value&&(r.photo=d.value.files[0]),r.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>I()})},f=()=>{s.value=!0},k=()=>{d.value.click()},P=()=>{const p=d.value.files[0];if(!p)return;const _=new FileReader;_.onload=x=>{u.value=x.target.result},_.readAsDataURL(p)},L=()=>{q.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{u.value=null,I()}})},I=()=>{var p;(p=d.value)!=null&&p.value&&(d.value.value=null)};return(p,_)=>(m(),y(E,{onSubmitted:n},{title:t(()=>[l(" Profile Information ")]),description:t(()=>[l(" Update your account's profile information and email address. ")]),form:t(()=>[p.$page.props.jetstream.managesProfilePhotos?(m(),$("div",se,[a("input",{id:"photo",ref_key:"photoInput",ref:d,type:"file",class:"hidden",onChange:P},null,544),e(v,{for:"photo",value:"Photo"}),S(a("div",oe,[a("img",{src:i.user.profile_photo_url,alt:i.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,te)],512),[[V,!u.value]]),S(a("div",ae,[a("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:R("background-image: url('"+u.value+"');")},null,4)],512),[[V,u.value]]),e(A,{class:"mt-2 me-2",type:"button",onClick:C(k,["prevent"])},{default:t(()=>[l(" Select A New Photo ")]),_:1}),i.user.profile_photo_path?(m(),y(A,{key:0,type:"button",class:"mt-2",onClick:C(L,["prevent"])},{default:t(()=>[l(" Remove Photo ")]),_:1})):U("",!0),e(h,{message:o(r).errors.photo,class:"mt-2"},null,8,["message"])])):U("",!0),a("div",re,[e(v,{for:"name",value:"Name"}),e(g,{id:"name",modelValue:o(r).name,"onUpdate:modelValue":_[0]||(_[0]=x=>o(r).name=x),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"name"},null,8,["modelValue"]),e(h,{message:o(r).errors.name,class:"mt-2"},null,8,["message"])]),a("div",le,[e(v,{for:"email",value:"Email"}),e(g,{id:"email",modelValue:o(r).email,"onUpdate:modelValue":_[1]||(_[1]=x=>o(r).email=x),type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),e(h,{message:o(r).errors.email,class:"mt-2"},null,8,["message"]),p.$page.props.jetstream.hasEmailVerification&&i.user.email_verified_at===null?(m(),$("div",ne,[a("p",ie,[l(" Your email address is unverified. "),e(o(B),{href:p.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:C(f,["prevent"])},{default:t(()=>[l(" Click here to re-send the verification email. ")]),_:1},8,["href"])]),S(a("div",ce," A new verification link has been sent to your email address. ",512),[[V,s.value]])])):U("",!0)])]),actions:t(()=>[e(N,{on:o(r).recentlySuccessful,class:"me-3"},{default:t(()=>[l(" Saved. ")]),_:1},8,["on"]),e(F,{class:b({"opacity-25":o(r).processing}),disabled:o(r).processing},{default:t(()=>[l(" Save ")]),_:1},8,["class","disabled"])]),_:1}))}},de={class:"col-span-6 sm:col-span-4"},me={class:"col-span-6 sm:col-span-4"},pe={class:"col-span-6 sm:col-span-4"},fe={__name:"UpdatePasswordForm",setup(i){const c=w(null),r=w(null),s=D({current_password:"",password:"",password_confirmation:""}),u=()=>{s.put(route("user-password.update"),{errorBag:"updatePassword",preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),c.value.focus()),s.errors.current_password&&(s.reset("current_password"),r.value.focus())}})};return(d,n)=>(m(),y(E,{onSubmitted:u},{title:t(()=>[l(" Update Password ")]),description:t(()=>[l(" Ensure your account is using a long, random password to stay secure. ")]),form:t(()=>[a("div",de,[e(v,{for:"current_password",value:"Current Password"}),e(g,{id:"current_password",ref_key:"currentPasswordInput",ref:r,modelValue:o(s).current_password,"onUpdate:modelValue":n[0]||(n[0]=f=>o(s).current_password=f),type:"password",class:"mt-1 block w-full",autocomplete:"current-password"},null,8,["modelValue"]),e(h,{message:o(s).errors.current_password,class:"mt-2"},null,8,["message"])]),a("div",me,[e(v,{for:"password",value:"New Password"}),e(g,{id:"password",ref_key:"passwordInput",ref:c,modelValue:o(s).password,"onUpdate:modelValue":n[1]||(n[1]=f=>o(s).password=f),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),e(h,{message:o(s).errors.password,class:"mt-2"},null,8,["message"])]),a("div",pe,[e(v,{for:"password_confirmation",value:"Confirm Password"}),e(g,{id:"password_confirmation",modelValue:o(s).password_confirmation,"onUpdate:modelValue":n[2]||(n[2]=f=>o(s).password_confirmation=f),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),e(h,{message:o(s).errors.password_confirmation,class:"mt-2"},null,8,["message"])])]),actions:t(()=>[e(N,{on:o(s).recentlySuccessful,class:"me-3"},{default:t(()=>[l(" Saved. ")]),_:1},8,["on"]),e(F,{class:b({"opacity-25":o(s).processing}),disabled:o(s).processing},{default:t(()=>[l(" Save ")]),_:1},8,["class","disabled"])]),_:1}))}},_e=a("div",{class:"max-w-xl text-sm text-gray-600"}," Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting your account, please download any data or information that you wish to retain. ",-1),we={class:"mt-5"},he={class:"mt-4"},ve={__name:"DeleteAccountSection",setup(i){const c=w(!1),r=w(null),s=D({password:""}),u=()=>{c.value=!0,setTimeout(()=>r.value.focus(),250)},d=()=>{s.delete(route("current-user.destroy"),{preserveScroll:!0,onSuccess:()=>n(),onError:()=>r.value.focus(),onFinish:()=>s.reset()})},n=()=>{c.value=!1,s.reset()};return(f,k)=>(m(),y(X,null,{title:t(()=>[l(" Delete Account ")]),description:t(()=>[l(" Permanently delete your account. ")]),content:t(()=>[_e,a("div",we,[e(j,{onClick:u},{default:t(()=>[l(" Delete Account ")]),_:1})]),e(J,{show:c.value,onClose:n},{title:t(()=>[l(" Delete Account ")]),content:t(()=>[l(" Are you sure you want to delete your account? Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account. "),a("div",he,[e(g,{ref_key:"passwordInput",ref:r,modelValue:o(s).password,"onUpdate:modelValue":k[0]||(k[0]=P=>o(s).password=P),type:"password",class:"mt-1 block w-3/4",placeholder:"Password",autocomplete:"current-password",onKeyup:K(d,["enter"])},null,8,["modelValue"]),e(h,{message:o(s).errors.password,class:"mt-2"},null,8,["message"])])]),footer:t(()=>[e(A,{onClick:n},{default:t(()=>[l(" Cancel ")]),_:1}),e(j,{class:b(["ms-3",{"opacity-25":o(s).processing}]),disabled:o(s).processing,onClick:d},{default:t(()=>[l(" Delete Account ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1}))}},ge=a("h2",{class:"text-xl font-semibold mb-4"},"Profile Data",-1),ye={__name:"ProfileData",props:{user:Object},setup(i){return(c,r)=>(m(),$("div",null,[ge,e(ue,{user:i.user},null,8,["user"]),e(O),e(fe),e(O),e(ve)]))}},xe={class:"py-12 bg-white"},be={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 flex"},ke={class:"flex flex-col overflow-y-auto border-r border-gray-200 bg-white pb-4 pt-5",style:{width:"250px","min-height":"calc(100vh - 3rem)"}},$e=a("div",{class:"flex flex-shrink-0 items-center px-4"},[a("h1",{class:"text-2xl mb-4 font-bold"},"My Account")],-1),Pe={class:"mt-5 flex flex-grow flex-col"},Se={class:"flex-1 space-y-1 bg-white px-2","aria-label":"Sidebar"},Ve={class:"flex-grow p-6"},Me={__name:"Index",props:{user:Object,siteSettings:Object},setup(i){const{url:c}=W(),r=[{name:"Profile Data",icon:Z,link:"/profile"},{name:"Addresses",icon:ee,link:"/profile/addresses"},{name:"Wishlist",icon:T,link:"/profile/wishlist"},{name:"Orders",icon:z,link:"/profile/orders"}];function s(u){return c.startsWith(u)}return(u,d)=>(m(),y(M,{siteSettings:i.siteSettings,title:"My account"},{default:t(()=>[a("div",xe,[a("div",be,[a("div",ke,[$e,a("div",Pe,[a("nav",Se,[(m(),$(Q,null,Y(r,n=>e(o(B),{key:n.name,href:n.link,class:b([{"bg-gray-100 text-gray-900":s(n.link)},"group flex w-full items-center rounded-md py-2 pl-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900"])},{default:t(()=>[(m(),y(G(n.icon),{class:b([s(n.link)?"text-gray-500":"text-gray-400 group-hover:text-gray-500","mr-3 h-6 w-6 flex-shrink-0"]),"aria-hidden":"true"},null,8,["class"])),l(" "+H(n.name),1)]),_:2},1032,["href","class"])),64))])])]),a("div",Ve,[e(ye,{user:i.user},null,8,["user"])])])])]),_:1},8,["siteSettings"]))}};export{Me as default};
